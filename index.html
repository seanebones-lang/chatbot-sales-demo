<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Islamic Knowledge - Quran, Hadith, Fiqh & AI Assistant</title>
    <meta name="description" content="Complete Islamic knowledge system with full Quran search, comprehensive Hadith collection, Fiqh (Islamic law), and AI-powered responses. Learn about inheritance, prayer, and all aspects of Islam.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.1) 0%, rgba(0, 77, 97, 0.1) 100%);
            border-radius: 30px;
            border: 2px solid rgba(30, 144, 255, 0.3);
            margin-bottom: 40px;
            animation: fadeIn 2s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .islamic-greeting {
            font-size: 2.5rem;
            color: #FFD700;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .opening-dua {
            font-size: 1.3rem;
            color: #87CEEB;
            line-height: 2;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .main-menu {
            margin-top: 40px;
            text-align: center;
        }
        
        .main-menu h2 {
            color: #FFD700;
            font-size: 2rem;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .menu-item {
            background: rgba(18, 18, 18, 0.8);
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        .menu-item:hover {
            transform: translateY(-10px);
            border-color: #1E90FF;
            box-shadow: 0 20px 40px rgba(30, 144, 255, 0.3);
            background: rgba(18, 18, 18, 0.95);
        }
        
        .menu-item:active {
            transform: scale(0.95);
            border-color: #FFD700;
            background: rgba(18, 18, 18, 0.98);
        }
        
        .menu-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(30, 144, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .menu-item:hover::before {
            left: 100%;
        }
        
        .menu-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }
        
        .menu-item h3 {
            color: #1E90FF;
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .menu-item p {
            color: #87CEEB;
            font-size: 1rem;
            line-height: 1.5;
            margin: 0;
        }

        .bot-message {
            background: rgba(18, 18, 18, 0.8);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid #1E90FF;
            animation: slideIn 1s ease-out 2s both;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .bot-message h3 {
            color: #1E90FF;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .quran-quote {
            font-style: italic;
            color: #FFD700;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .search-section {
            background: rgba(24, 24, 24, 0.9);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            display: block;
            transition: all 0.3s ease;
        }

        .search-section:hover {
            border-color: rgba(30, 144, 255, 0.6);
            box-shadow: 0 25px 50px rgba(30, 144, 255, 0.2);
            transform: translateY(-3px);
        }

        .search-section.show {
            display: block;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .search-input {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 18px 20px;
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            background: rgba(24, 24, 24, 0.8);
            color: #E0E0E0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #1E90FF;
            box-shadow: 0 0 20px rgba(30, 144, 255, 0.3);
            background: rgba(24, 24, 24, 0.95);
        }

        button {
            padding: 18px 30px;
            background: linear-gradient(135deg, #1E90FF 0%, #004D61 100%);
            color: #FFFFFF;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(30, 144, 255, 0.3);
        }

        .source-toggle {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .source-btn {
            padding: 15px 30px;
            background: rgba(68, 68, 68, 0.5);
            border: 2px solid rgba(68, 68, 68, 0.8);
            border-radius: 15px;
            color: #b0c4de;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .source-btn.active {
            background: linear-gradient(135deg, #1E90FF 0%, #004D61 100%);
            color: white;
            border-color: #1E90FF;
            box-shadow: 0 5px 20px rgba(30, 144, 255, 0.3);
        }

        .source-btn:hover {
            transform: translateY(-2px);
        }

        .ai-summary {
            background: rgba(18, 18, 18, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #FFD700;
            transition: all 0.3s ease;
        }

        .ai-summary:hover {
            background: rgba(18, 18, 18, 0.95);
            border-left-color: #FFD700;
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        .ai-summary h3 {
            color: #FFD700;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .ai-summary p {
            color: #E0E0E0;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .suggestion-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .suggestion-btn {
            padding: 8px 15px;
            background: rgba(30, 144, 255, 0.2);
            border: 1px solid rgba(30, 144, 255, 0.5);
            border-radius: 10px;
            color: #87CEEB;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .suggestion-btn:hover {
            background: rgba(30, 144, 255, 0.4);
            border-color: #1E90FF;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(30, 144, 255, 0.3);
        }

        .results-section {
            display: none;
            background: rgba(24, 24, 24, 0.9);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        .results-section:hover {
            border-color: rgba(30, 144, 255, 0.4);
            box-shadow: 0 25px 50px rgba(30, 144, 255, 0.15);
        }

        .results-section.show {
            display: block;
            animation: fadeInUp 1s ease-out;
        }

        .results-count {
            color: #87CEEB;
            font-size: 1.2rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .verse-item {
            background: rgba(18, 18, 18, 0.8);
            border: 1px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .verse-item:hover {
            border-color: #1E90FF;
            box-shadow: 0 15px 30px rgba(30, 144, 255, 0.3);
            transform: translateY(-3px);
            background: rgba(18, 18, 18, 0.95);
        }

        .verse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .verse-reference {
            color: #1E90FF;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .verse-source {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            padding: 5px 12px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .verse-topic {
            background: rgba(30, 144, 255, 0.2);
            color: #1E90FF;
            padding: 5px 12px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .verse-text {
            margin-bottom: 15px;
        }

        .verse-arabic {
            color: #FFD700;
            font-size: 1.3rem;
            text-align: right;
            margin-bottom: 10px;
            line-height: 2;
        }

        .verse-translation {
            color: #E0E0E0;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .verse-context h4 {
            color: #87CEEB;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .verse-context p {
            color: #b0c4de;
            line-height: 1.6;
        }

        .hadith-authentication {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .hadith-authentication .level {
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .hadith-authentication .narrator {
            color: #FFD700;
            font-size: 0.9rem;
        }

        .verse-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 8px 15px;
            background: rgba(30, 144, 255, 0.2);
            border: 1px solid rgba(30, 144, 255, 0.5);
            border-radius: 10px;
            color: #87CEEB;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .action-btn:hover {
            background: rgba(30, 144, 255, 0.3);
            border-color: #1E90FF;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .notification.show {
            opacity: 1;
        }

        .notification.success {
            background-color: #4CAF50;
        }

        .notification.error {
            background-color: #F44336;
        }

        .notification.info {
            background-color: #2196F3;
        }

        .no-results {
            text-align: center;
            padding: 30px;
        }

        .no-results h3 {
            color: #FFD700;
            margin-bottom: 15px;
        }

        .no-results ul {
            text-align: left;
            max-width: 400px;
            margin: 20px auto;
            color: #87CEEB;
        }

        .no-results li {
            margin: 10px 0;
        }

        .topic-suggestions {
            background: rgba(18, 18, 18, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border-left: 5px solid #87CEEB;
        }

        .topic-suggestions h4 {
            color: #87CEEB;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: #87CEEB;
            border-top: 1px solid rgba(68, 68, 68, 0.3);
        }

        /* Bottom Navigation Tabs */
        .bottom-navigation {
            margin-top: 60px;
            padding: 20px;
            background: rgba(18, 18, 18, 0.9);
            border-radius: 25px;
            border: 2px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .nav-tabs {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 20px;
            background: rgba(18, 18, 18, 0.8);
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            min-width: 80px;
            text-align: center;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(30, 144, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .nav-tab:hover::before {
            left: 100%;
        }

        .nav-tab:hover {
            transform: translateY(-8px) scale(1.05);
            border-color: #1E90FF;
            box-shadow: 0 15px 35px rgba(30, 144, 255, 0.4);
            background: rgba(18, 18, 18, 0.95);
        }

        .nav-tab:active {
            transform: translateY(-4px) scale(0.98);
        }

        .tab-icon {
            font-size: 2rem;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .nav-tab:hover .tab-icon {
            transform: scale(1.2);
            filter: drop-shadow(0 0 10px rgba(30, 144, 255, 0.6));
        }

        .tab-label {
            color: #87CEEB;
            font-size: 0.9rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .nav-tab:hover .tab-label {
            color: #1E90FF;
            text-shadow: 0 0 8px rgba(30, 144, 255, 0.5);
        }

        /* Animation for tab entrance */
        .nav-tab {
            animation: tabSlideUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        .nav-tab:nth-child(1) { animation-delay: 0.1s; }
        .nav-tab:nth-child(2) { animation-delay: 0.2s; }
        .nav-tab:nth-child(3) { animation-delay: 0.3s; }
        .nav-tab:nth-child(4) { animation-delay: 0.4s; }
        .nav-tab:nth-child(5) { animation-delay: 0.5s; }
        .nav-tab:nth-child(6) { animation-delay: 0.6s; }
        .nav-tab:nth-child(7) { animation-delay: 0.7s; }
        .nav-tab:nth-child(8) { animation-delay: 0.8s; }

        @keyframes tabSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Pulse animation for active state */
        .nav-tab.active {
            animation: tabPulse 2s infinite;
        }

        @keyframes tabPulse {
            0%, 100% {
                box-shadow: 0 15px 35px rgba(30, 144, 255, 0.4);
            }
            50% {
                box-shadow: 0 15px 35px rgba(30, 144, 255, 0.8);
            }
        }

        /* Ripple effect animation */
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .islamic-greeting {
                font-size: 2rem;
            }
            
            .opening-dua {
                font-size: 1.1rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .menu-item {
                padding: 25px;
                min-height: 120px;
                min-width: 280px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                text-align: center;
                touch-action: manipulation;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            
            .menu-item h3 {
                font-size: 1.3rem;
                margin-bottom: 10px;
            }
            
            .menu-item p {
                font-size: 0.9rem;
                line-height: 1.4;
            }
            
            .menu-icon {
                font-size: 2.5rem;
                margin-bottom: 15px;
            }
            
            .search-input {
                flex-direction: column;
            }
            
            .source-toggle {
                flex-direction: column;
                align-items: center;
            }
            
            .verse-actions {
                flex-direction: column;
            }

            /* Mobile responsive for bottom navigation */
            .bottom-navigation {
                margin-top: 40px;
                padding: 15px;
            }

            .nav-tabs {
                gap: 10px;
            }

            .nav-tab {
                padding: 12px 15px;
                min-width: 70px;
            }

            .tab-icon {
                font-size: 1.5rem;
                margin-bottom: 6px;
            }

            .tab-label {
                font-size: 0.8rem;
            }
        }
    </style>
    <script src="universal-pdf-delivery.js"></script>
</head>
<body>
    <div class="container">
        <div class="welcome-screen" id="welcomeScreen">
            <div class="islamic-greeting">Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…</div>
            <div class="opening-dua">
                Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù<br><br>
                Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ù†ÙØ­Ù’Ù…ÙØ¯ÙÙ‡Ù ÙˆÙÙ†ÙØ³Ù’ØªÙØ¹ÙÙŠÙ†ÙÙ‡Ù ÙˆÙÙ†ÙØ³Ù’ØªÙØºÙ’ÙÙØ±ÙÙ‡ÙØŒ ÙˆÙ Ù†ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙÙ†Ù’ Ø´ÙØ±ÙÙˆØ±Ù Ø£ÙÙ†Ù’ÙÙØ³ÙÙ†ÙØ§ ÙˆÙÙ…ÙÙ†Ù’ Ø³ÙÙŠÙÙ‘Ø¦ÙØ§ØªÙ Ø£ÙØ¹Ù’Ù…ÙØ§Ù„ÙÙ†ÙØ§ØŒ Ù…ÙÙ†Ù’ ÙŠÙÙ‡Ù’Ø¯ÙÙ‡Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙÙÙ„ÙØ§ Ù…ÙØ¶ÙÙ„ÙÙ‘ Ù„ÙÙ‡ÙØŒ ÙˆÙÙ…ÙÙ†Ù’ ÙŠÙØ¶Ù’Ù„ÙÙ„Ù’ ÙÙÙ„ÙØ§ Ù‡ÙØ§Ø¯ÙÙŠÙ Ù„ÙÙ‡Ù<br><br>
                ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø¹ÙØ¨Ù’Ø¯ÙÙ‡Ù ÙˆÙØ±ÙØ³ÙÙˆÙ„ÙÙ‡Ù
            </div>
            
            <div class="main-menu">
                <h2>Choose Your Path of Learning</h2>
                <div class="menu-grid">
                    <div class="menu-item" onclick="goToPage('prayer')">
                        <div class="menu-icon">Prayer</div>
                        <h3>Prayer Guide</h3>
                        <p>Learn how to pray, prayer times, and prayer guidance</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('daily-message')">
                        <div class="menu-icon">Daily</div>
                        <h3>Daily Islamic Message</h3>
                        <p>Get your daily dose of Islamic wisdom and inspiration</p>
                    </div>
                    
                    <div class="menu-item" onclick="window.location.href='one-per-day.html'">
                        <div class="menu-icon">Quran</div>
                        <h3>One Per Day</h3>
                        <p>Daily Quran verse with authentic tafsir, positive message, and daily dua</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('chat')">
                        <div class="menu-icon">AI</div>
                        <h3>DeenBot AI Assistant</h3>
                        <p>Chat with our AI-powered Islamic assistant for personalized guidance</p>
                    </div>
                    
                    <div class="menu-item" onclick="window.location.href='authentic-fiqh.html'">
                        <div class="menu-icon">âš–ï¸</div>
                        <h3>Complete Islamic Jurisprudence</h3>
                        <p>Comprehensive Islamic law library with 110+ sections covering every aspect of Islamic jurisprudence</p>
                    </div>
                    
                    <div class="menu-item" onclick="window.location.href='enhanced-search.html'">
                        <div class="menu-icon">Search</div>
                        <h3>Enhanced Search</h3>
                        <p>Comprehensive search across all Islamic sources with PDF generation</p>
                    </div>
                    
                                    <div class="menu-item" onclick="window.location.href='local-masjid.html'">
                    <div class="menu-icon">Masjid</div>
                    <h3>Local Masjid & Prayer Times</h3>
                    <p>Find local Islamic centers, prayer times, and community resources</p>
                </div>
                
                <div class="menu-item" onclick="window.location.href='quranic-arabic.html'">
                    <div class="menu-icon">Arabic</div>
                    <h3>Quranic Arabic Learning</h3>
                    <p>Master Arabic with daily structured lessons, alphabet guide, and authentic Islamic content</p>
                </div>
                
                <div class="menu-item" onclick="window.location.href='comprehensive-search.html'">
                    <div class="menu-icon">Search</div>
                    <h3>Comprehensive Islamic Search</h3>
                    <p>Search across complete Quran, Hadith, Tafsir, and authentic Islamic sources</p>
                </div>
                
                <div class="menu-item" onclick="window.location.href='quran-memorization.html'">
                    <div class="menu-icon">Hifdh</div>
                    <h3>Quran Memorization System</h3>
                    <p>Master Hifdh with structured plans, daily goals, and proven memorization techniques</p>
                </div>
                
                <div class="menu-item" onclick="window.location.href='tajweed-mastery.html'">
                    <div class="menu-icon">Tajweed</div>
                    <h3>Tajweed Mastery Center</h3>
                        <p>Perfect your Quran recitation with interactive rules, practice exercises, and professional guidance</p>
                </div>
                    
                    <div class="menu-item" onclick="goToPage('five-pillars')">
                        <div class="menu-icon">Pillars</div>
                        <h3>Five Pillars</h3>
                        <p>Learn about the foundation of Islam</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('sunnah')">
                        <div class="menu-icon">Sunnah</div>
                        <h3>Prophet's Sunnah</h3>
                        <p>Follow the way of Prophet Muhammad (PBUH)</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('new-muslim')">
                        <div class="menu-icon">New</div>
                        <h3>New Muslim Guide</h3>
                        <p>Essential guidance for new Muslims</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('recommended-surahs')">
                        <div class="menu-icon">ğŸ“–</div>
                        <h3>Recommended Surahs</h3>
                        <p>Essential Quran chapters for beginners with tafsir</p>
                    </div>
                    
                    <div class="menu-item" onclick="goToPage('dedication')">
                        <div class="menu-icon">Dedication</div>
                        <h3>Dedication</h3>
                        <p>In gratitude to those who guided me to Islam</p>
                    </div>
                    
                                <div class="menu-item" onclick="goToPage('hadith-collections-hub')">
                <div class="menu-icon">Hadith</div>
                <h3>Hadith Collections</h3>
                <p>Complete collections from major Islamic scholars</p>
            </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation Tabs -->
        <div class="bottom-navigation">
            <div class="nav-tabs">
                <div class="nav-tab" onclick="goToPage('prayer')">
                    <div class="tab-icon">ğŸ•Œ</div>
                    <span class="tab-label">Prayer</span>
                </div>
                <div class="nav-tab" onclick="goToPage('daily-message')">
                    <div class="tab-icon">ğŸ“…</div>
                    <span class="tab-label">Daily</span>
                </div>
                <div class="nav-tab" onclick="goToPage('chat')">
                    <div class="tab-icon">ğŸ¤–</div>
                    <span class="tab-label">DeenBot</span>
                </div>
                <div class="nav-tab" onclick="window.location.href='authentic-fiqh.html'">
                    <div class="tab-icon">âš–ï¸</div>
                    <span class="tab-label">Fiqh</span>
                </div>
                <div class="nav-tab" onclick="goToPage('five-pillars')">
                    <div class="tab-icon">ğŸ›ï¸</div>
                    <span class="tab-label">Pillars</span>
                </div>
                <div class="nav-tab" onclick="goToPage('sunnah')">
                    <div class="tab-icon">ğŸŒŸ</div>
                    <span class="tab-label">Sunnah</span>
                </div>
                <div class="nav-tab" onclick="goToPage('new-muslim')">
                    <div class="tab-icon">ğŸ†•</div>
                    <span class="tab-label">New Muslim</span>
                </div>
                <div class="nav-tab" onclick="goToPage('hadith-collections-hub')">
                    <div class="tab-icon">ğŸ“š</div>
                    <span class="tab-label">Hadith</span>
                </div>
            </div>
        </div>

        <div class="bot-message" id="botMessage" style="display: none;">
            <h3>May I help you learn about Islam Insha Allah?</h3>
            <div class="quran-quote" id="quranQuote">
                Loading beautiful Quranic wisdom...
            </div>
        </div>

        <div class="search-section" id="searchSection">
            <div class="search-input">
                <input type="text" id="searchInput" placeholder="Ask any Islamic question (e.g., 'What does Islam say about mercy?', 'How to pray?', 'Inheritance laws?', 'Quran verses about patience?')" onkeypress="handleSearch(event)">
                <button onclick="performSearch()">Search</button>
            </div>
            
            <div class="source-toggle">
                <button class="source-btn active" onclick="setSource('all')">All Sources</button>
                <button class="source-btn" onclick="setSource('quran')">Quran Only</button>
                <button class="source-btn" onclick="setSource('hadith')">Hadith Only</button>
                <button class="source-btn" onclick="setSource('fiqh')">Fiqh (Islamic Law)</button>
                <button class="source-btn" onclick="setSource('new-muslim')">New Muslim Guide</button>
                <button class="source-btn" onclick="setSource('what-is-islam')">What is Islam?</button>
                <button class="source-btn" onclick="setSource('five-pillars')">Five Pillars</button>
                <button class="source-btn" onclick="setSource('sunnah')">Sunnah</button>
                <button class="source-btn" onclick="setSource('family-daily-life')">Family & Daily Life</button>
            </div>
        </div>

        <div class="results-section" id="resultsSection">
            <div class="results-count" id="resultsCount"></div>
            <div id="verseResults"></div>
        </div>
    </div>

    <script>
        // Comprehensive Islamic Knowledge Database
        const islamicDatabase = {
            // Core Islamic Concepts (Aqeedah)
            tawheed: [
                {
                    reference: "Al-Ikhlas 112:1-4",
                    arabic: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ ï´¿Ù¡ï´¾ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù ï´¿Ù¢ï´¾ Ù„ÙÙ…Ù’ ÙŠÙÙ„ÙØ¯Ù’ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙˆÙ„ÙØ¯Ù’ ï´¿Ù£ï´¾ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙƒÙÙ† Ù„ÙÙ‘Ù‡Ù ÙƒÙÙÙÙˆÙ‹Ø§ Ø£ÙØ­ÙØ¯ÙŒ ï´¿Ù¤ï´¾",
                    translation: "Say, 'He is Allah, [who is] One, Allah, the Eternal Refuge. He neither begets nor is born, nor is there to Him any equivalent.'",
                    context: "The fundamental Islamic belief in the oneness of Allah (Tawheed) - the cornerstone of Islamic faith.",
                    topic: "Tawheed",
                    source: "Quran",
                    keywords: ["oneness", "unity", "monotheism", "allah", "god", "divine", "eternal", "refuge"]
                },
                {
                    reference: "Al-Baqarah 2:255",
                    arabic: "Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ûš Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ",
                    translation: "Allah - there is no deity except Him, the Ever-Living, the Self-Sustaining. Neither drowsiness overtakes Him nor sleep.",
                    context: "The Ayat al-Kursi, describing Allah's unique attributes and eternal nature.",
                    topic: "Tawheed",
                    source: "Quran",
                    keywords: ["allah", "deity", "living", "eternal", "sustaining", "awake", "divine"]
                }
            ],
            
            // Prayer (Salah)
            salah: [
                {
                    reference: "Al-Baqarah 2:238",
                    arabic: "Ø­ÙØ§ÙÙØ¸ÙÙˆØ§ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„ØµÙÙ‘Ù„ÙÙˆÙØ§ØªÙ ÙˆÙØ§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù Ø§Ù„Ù’ÙˆÙØ³Ù’Ø·ÙÙ‰Ù° ÙˆÙÙ‚ÙÙˆÙ…ÙÙˆØ§ Ù„ÙÙ„ÙÙ‘Ù‡Ù Ù‚ÙØ§Ù†ÙØªÙÙŠÙ†Ù",
                    translation: "Maintain with care the [obligatory] prayers and [in particular] the middle prayer and stand before Allah, devoutly obedient.",
                    context: "Command to maintain prayers, especially the middle prayer (Asr), with devotion and obedience.",
                    topic: "Salah",
                    source: "Quran",
                    keywords: ["prayer", "salah", "maintain", "obligatory", "devout", "obedient", "worship"]
                },
                {
                    reference: "Al-Ma'un 107:4-5",
                    arabic: "ÙÙÙˆÙÙŠÙ’Ù„ÙŒ Ù„ÙÙ‘Ù„Ù’Ù…ÙØµÙÙ„ÙÙ‘ÙŠÙ†Ù ï´¿Ù¤ï´¾ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ù‡ÙÙ…Ù’ Ø¹ÙÙ† ØµÙÙ„ÙØ§ØªÙÙ‡ÙÙ…Ù’ Ø³ÙØ§Ù‡ÙÙˆÙ†Ù ï´¿Ù¥ï´¾",
                    translation: "So woe to those who pray [but] who are heedless of their prayer.",
                    context: "Warning against performing prayer without proper attention and devotion.",
                    topic: "Salah",
                    source: "Quran",
                    keywords: ["prayer", "heedless", "attention", "devotion", "warning", "woe"]
                }
            ],
            
            // Mercy and Kindness
            mercy: [
                {
                    reference: "Al-Anbiya 21:107",
                    arabic: "ÙˆÙÙ…ÙØ§ Ø£ÙØ±Ù’Ø³ÙÙ„Ù’Ù†ÙØ§ÙƒÙ Ø¥ÙÙ„ÙÙ‘Ø§ Ø±ÙØ­Ù’Ù…ÙØ©Ù‹ Ù„ÙÙ‘Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù",
                    translation: "And We have not sent you, [O Muhammad], except as a mercy to the worlds.",
                    context: "Prophet Muhammad (ï·º) was sent as a mercy to all of creation, not just Muslims.",
                    topic: "Mercy",
                    source: "Quran",
                    keywords: ["mercy", "prophet", "muhammad", "worlds", "creation", "compassion"]
                },
                {
                    reference: "Al-Fatiha 1:1-3",
                    arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù ï´¿Ù¡ï´¾ Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù ï´¿Ù¢ï´¾ Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù",
                    translation: "In the name of Allah, the Entirely Merciful, the Especially Merciful. [All] praise is [due] to Allah, Lord of the worlds. The Entirely Merciful, the Especially Merciful.",
                    context: "Opening of the Quran emphasizing Allah's mercy and His role as Lord of all creation.",
                    topic: "Mercy",
                    source: "Quran",
                    keywords: ["mercy", "merciful", "allah", "lord", "worlds", "praise", "compassion"]
                }
            ],
            
            // Patience and Perseverance
            patience: [
                {
                    reference: "Al-Baqarah 2:153",
                    arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø§Ø³Ù’ØªÙØ¹ÙÙŠÙ†ÙÙˆØ§ Ø¨ÙØ§Ù„ØµÙÙ‘Ø¨Ù’Ø±Ù ÙˆÙØ§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù Ûš Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙØ¹Ù Ø§Ù„ØµÙÙ‘Ø§Ø¨ÙØ±ÙÙŠÙ†Ù",
                    translation: "O you who have believed, seek help through patience and prayer. Indeed, Allah is with the patient.",
                    context: "Guidance to seek Allah's help through patience and prayer, with assurance that Allah supports the patient.",
                    topic: "Patience",
                    source: "Quran",
                    keywords: ["patience", "prayer", "help", "allah", "believers", "support", "perseverance"]
                },
                {
                    reference: "Al-Imran 3:200",
                    arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø§ØµÙ’Ø¨ÙØ±ÙÙˆØ§ ÙˆÙØµÙØ§Ø¨ÙØ±ÙÙˆØ§ ÙˆÙØ±ÙØ§Ø¨ÙØ·ÙÙˆØ§ Ûš ÙˆÙØ§ØªÙÙ‘Ù‚ÙÙˆØ§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ¹ÙÙ„ÙÙ‘ÙƒÙÙ…Ù’ ØªÙÙÙ’Ù„ÙØ­ÙÙˆÙ†Ù",
                    translation: "O you who have believed, persevere and endure and remain stationed and fear Allah that you may be successful.",
                    context: "Command to persevere, endure, remain steadfast, and maintain taqwa for success.",
                    topic: "Patience",
                    source: "Quran",
                    keywords: ["patience", "persevere", "endure", "steadfast", "taqwa", "success", "fear"]
                }
            ],
            
            // Knowledge and Learning
            knowledge: [
                {
                    reference: "Al-Alaq 96:1-5",
                    arabic: "Ø§Ù‚Ù’Ø±ÙØ£Ù’ Ø¨ÙØ§Ø³Ù’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù ï´¿Ù¡ï´¾ Ø®ÙÙ„ÙÙ‚Ù Ø§Ù„Ù’Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ù…ÙÙ†Ù’ Ø¹ÙÙ„ÙÙ‚Ù ï´¿Ù¢ï´¾ Ø§Ù‚Ù’Ø±ÙØ£Ù’ ÙˆÙØ±ÙØ¨ÙÙ‘ÙƒÙ Ø§Ù„Ù’Ø£ÙÙƒÙ’Ø±ÙÙ…Ù ï´¿Ù£ï´¾ Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø¹ÙÙ„ÙÙ‘Ù…Ù Ø¨ÙØ§Ù„Ù’Ù‚ÙÙ„ÙÙ…Ù ï´¿Ù¤ï´¾ Ø¹ÙÙ„ÙÙ‘Ù…Ù Ø§Ù„Ù’Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ù…ÙØ§ Ù„ÙÙ…Ù’ ÙŠÙØ¹Ù’Ù„ÙÙ…Ù’",
                    translation: "Read in the name of your Lord who created - Created man from a clinging substance. Read, and your Lord is the most Generous - Who taught by the pen - Taught man that which he knew not.",
                    context: "The first revelation emphasizing the importance of reading, learning, and knowledge.",
                    topic: "Knowledge",
                    source: "Quran",
                    keywords: ["read", "knowledge", "learning", "pen", "education", "lord", "created"]
                },
                {
                    reference: "Al-Mujadila 58:11",
                    arabic: "ÙŠÙØ±Ù’ÙÙØ¹Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ù…ÙÙ†ÙƒÙÙ…Ù’ ÙˆÙØ§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø£ÙÙˆØªÙÙˆØ§ Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù Ø¯ÙØ±ÙØ¬ÙØ§ØªÙ",
                    translation: "Allah will raise those who have believed among you and those who were given knowledge, by degrees.",
                    context: "Allah elevates believers and those with knowledge to higher spiritual levels.",
                    topic: "Knowledge",
                    source: "Quran",
                    keywords: ["knowledge", "believers", "elevate", "degrees", "spiritual", "levels"]
                }
            ],
            
            // Family and Relationships
            family: [
                {
                    reference: "Ar-Rum 30:21",
                    arabic: "ÙˆÙÙ…ÙÙ†Ù’ Ø¢ÙŠÙØ§ØªÙÙ‡Ù Ø£ÙÙ†Ù’ Ø®ÙÙ„ÙÙ‚Ù Ù„ÙÙƒÙÙ… Ù…ÙÙ‘Ù†Ù’ Ø£ÙÙ†ÙÙØ³ÙÙƒÙÙ…Ù’ Ø£ÙØ²Ù’ÙˆÙØ§Ø¬Ù‹Ø§ Ù„ÙÙ‘ØªÙØ³Ù’ÙƒÙÙ†ÙÙˆØ§ Ø¥ÙÙ„ÙÙŠÙ’Ù‡ÙØ§ ÙˆÙØ¬ÙØ¹ÙÙ„Ù Ø¨ÙÙŠÙ’Ù†ÙÙƒÙÙ… Ù…ÙÙ‘ÙˆÙØ¯ÙÙ‘Ø©Ù‹ ÙˆÙØ±ÙØ­Ù’Ù…ÙØ©Ù‹",
                    translation: "And of His signs is that He created for you from yourselves mates that you may find tranquility in them; and He placed between you affection and mercy.",
                    context: "Allah's wisdom in creating spouses for tranquility, affection, and mercy between partners.",
                    topic: "Family",
                    source: "Quran",
                    keywords: ["spouses", "tranquility", "affection", "mercy", "marriage", "relationships", "signs"]
                },
                {
                    reference: "Al-Isra 17:23-24",
                    arabic: "ÙˆÙÙ‚ÙØ¶ÙÙ‰Ù° Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø£ÙÙ„ÙÙ‘Ø§ ØªÙØ¹Ù’Ø¨ÙØ¯ÙÙˆØ§ Ø¥ÙÙ„ÙÙ‘Ø§ Ø¥ÙÙŠÙÙ‘Ø§Ù‡Ù ÙˆÙØ¨ÙØ§Ù„Ù’ÙˆÙØ§Ù„ÙØ¯ÙÙŠÙ’Ù†Ù Ø¥ÙØ­Ù’Ø³ÙØ§Ù†Ù‹Ø§",
                    translation: "And your Lord has decreed that you not worship except Him, and to parents, good treatment.",
                    context: "Command to worship Allah alone and treat parents with kindness and respect.",
                    topic: "Family",
                    source: "Quran",
                    keywords: ["parents", "worship", "allah", "kindness", "respect", "treatment", "command"]
                }
            ],
            
            // Fiqh - Islamic Law
            fiqh: [
                {
                    reference: "Al-Baqarah 2:275",
                    arabic: "Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù ÙŠÙØ£Ù’ÙƒÙÙ„ÙÙˆÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø¨ÙØ§ Ù„ÙØ§ ÙŠÙÙ‚ÙÙˆÙ…ÙÙˆÙ†Ù Ø¥ÙÙ„ÙÙ‘Ø§ ÙƒÙÙ…ÙØ§ ÙŠÙÙ‚ÙÙˆÙ…Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙØªÙØ®ÙØ¨ÙÙ‘Ø·ÙÙ‡Ù Ø§Ù„Ø´ÙÙ‘ÙŠÙ’Ø·ÙØ§Ù†Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ù…ÙØ³ÙÙ‘",
                    translation: "Those who consume interest cannot stand [on the Day of Resurrection] except as one stands who is being beaten by Satan into insanity.",
                    context: "Severe warning against riba (interest/usury) in Islamic finance and economics.",
                    topic: "Fiqh",
                    source: "Quran",
                    keywords: ["riba", "interest", "usury", "satan", "finance", "economics", "warning"]
                },
                {
                    reference: "Al-Ma'idah 5:38",
                    arabic: "ÙˆÙØ§Ù„Ø³ÙÙ‘Ø§Ø±ÙÙ‚Ù ÙˆÙØ§Ù„Ø³ÙÙ‘Ø§Ø±ÙÙ‚ÙØ©Ù ÙÙØ§Ù‚Ù’Ø·ÙØ¹ÙÙˆØ§ Ø£ÙÙŠÙ’Ø¯ÙÙŠÙÙ‡ÙÙ…ÙØ§ Ø¬ÙØ²ÙØ§Ø¡Ù‹ Ø¨ÙÙ…ÙØ§ ÙƒÙØ³ÙØ¨ÙØ§ Ù†ÙÙƒÙØ§Ù„Ù‹Ø§ Ù…ÙÙ‘Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                    translation: "As for the thief, the male and the female, amputate their hands in recompense for what they committed as a deterrent [punishment] from Allah.",
                    context: "Islamic law regarding theft and its punishment as a deterrent.",
                    topic: "Fiqh",
                    source: "Quran",
                    keywords: ["theft", "punishment", "amputation", "deterrent", "law", "justice"]
                }
            ]
        };
        
        // Comprehensive Hadith Database - Massively Expanded
        const hadithDatabase = [
            {
                reference: "Sahih Bukhari 1:1 - Intentions",
                arabic: "Ø¥ÙÙ†ÙÙ‘Ù…ÙØ§ Ø§Ù„Ø£ÙØ¹Ù’Ù…ÙØ§Ù„Ù Ø¨ÙØ§Ù„Ù†ÙÙ‘ÙŠÙÙ‘Ø§ØªÙ ÙˆÙØ¥ÙÙ†ÙÙ‘Ù…ÙØ§ Ù„ÙÙƒÙÙ„ÙÙ‘ Ø§Ù…Ù’Ø±ÙØ¦Ù Ù…ÙØ§ Ù†ÙÙˆÙÙ‰",
                translation: "Actions are judged by intentions, and every person will be rewarded according to what they intended.",
                context: "The Prophet (ï·º) emphasizes that all actions are judged by their underlying intentions. This Hadith teaches that sincerity in worship and good deeds is essential.",
                topic: "Intentions",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Umar ibn Al-Khattab",
                keywords: ["intentions", "actions", "rewards", "judgment", "sincerity", "worship"]
            },
            {
                reference: "Sahih Muslim 1:1 - Perfecting Faith",
                arabic: "Ù…ÙÙ†Ù’ Ø­ÙØ³ÙÙ‘Ù†Ù Ø¥ÙØ³Ù’Ù„ÙØ§Ù…ÙÙ‡Ù Ø­ÙØ³ÙÙ‘Ù†Ù Ø¥ÙÙŠÙ…ÙØ§Ù†ÙÙ‡Ù",
                translation: "Whoever perfects their Islam, perfects their faith.",
                context: "Emphasizing the connection between outward Islamic practice and inner faith. Perfecting one's Islam leads to stronger faith.",
                topic: "Faith",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["islam", "faith", "perfection", "practice", "belief", "strength"]
            },
            {
                reference: "Sahih Bukhari 2:8 - Shahada",
                arabic: "Ø§Ù„Ø¥ÙØ³Ù’Ù„ÙØ§Ù…Ù Ø£ÙÙ†Ù’ ØªÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "Islam is to testify that there is no deity except Allah and that Muhammad is the Messenger of Allah.",
                context: "The first pillar of Islam - the Shahada (declaration of faith). This is the foundation of being a Muslim.",
                topic: "Shahada",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["shahada", "faith", "testimony", "allah", "muhammad", "messenger", "first pillar"]
            },
            {
                reference: "Sahih Bukhari 2:25 - Five Pillars",
                arabic: "Ø¨ÙÙ†ÙÙŠÙ Ø§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙ‰ Ø®ÙÙ…Ù’Ø³Ù Ø´ÙÙ‡ÙØ§Ø¯ÙØ©Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¥ÙÙ‚ÙØ§Ù…Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙˆÙØ¥ÙÙŠØªÙØ§Ø¡Ù Ø§Ù„Ø²ÙÙ‘ÙƒÙØ§Ø©Ù ÙˆÙØµÙÙˆÙ’Ù…Ù Ø±ÙÙ…ÙØ¶ÙØ§Ù†Ù ÙˆÙØ­ÙØ¬ÙÙ‘ Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ",
                translation: "Islam is built upon five: testifying that there is no deity except Allah, establishing prayer, giving zakat, fasting Ramadan, and pilgrimage to the House.",
                context: "The Prophet (ï·º) clearly defines the five pillars that form the foundation of Islam.",
                topic: "Five Pillars",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["five pillars", "shahada", "prayer", "zakat", "fasting", "hajj", "foundation"]
            },
            {
                reference: "Sahih Muslim 4:1 - Prayer",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø£ÙÙˆÙÙ‘Ù„Ù Ù…ÙØ§ ÙŠÙØ­ÙØ§Ø³ÙØ¨Ù Ø¨ÙÙ‡Ù Ø§Ù„Ù’Ø¹ÙØ¨Ù’Ø¯Ù ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù‚ÙÙŠÙØ§Ù…ÙØ©Ù Ù…ÙÙ†Ù’ Ø¹ÙÙ…ÙÙ„ÙÙ‡Ù ØµÙÙ„ÙØ§ØªÙÙ‡Ù",
                translation: "The first thing for which a person will be held accountable on the Day of Judgment is his prayer.",
                context: "Prayer is the most important act of worship and will be the first thing judged on the Day of Judgment.",
                topic: "Prayer",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["prayer", "judgment", "day of judgment", "accountability", "worship", "first"]
            },
            {
                reference: "Sahih Bukhari 3:31 - Cleanliness",
                arabic: "Ø§Ù„Ø·ÙÙ‘Ù‡ÙÙˆØ±Ù Ø´ÙØ·Ù’Ø±Ù Ø§Ù„Ù’Ø¥ÙÙŠÙ…ÙØ§Ù†Ù",
                translation: "Cleanliness is half of faith.",
                context: "The Prophet (ï·º) emphasizes the importance of physical and spiritual cleanliness in Islam.",
                topic: "Cleanliness",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Malik Al-Ash'ari",
                keywords: ["cleanliness", "faith", "hygiene", "purity", "half", "importance"]
            },
            {
                reference: "Sahih Muslim 6:1 - Kindness",
                arabic: "Ù…ÙÙ†Ù’ Ù„ÙØ§ ÙŠÙØ±Ù’Ø­ÙÙ…Ù Ù„ÙØ§ ÙŠÙØ±Ù’Ø­ÙÙ…Ù",
                translation: "Whoever does not show mercy will not be shown mercy.",
                context: "The Prophet (ï·º) teaches that showing mercy to others is essential to receive Allah's mercy.",
                topic: "Mercy",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["mercy", "kindness", "compassion", "allah", "receive", "essential"]
            },
            {
                reference: "Sahih Bukhari 4:56 - Knowledge",
                arabic: "Ø·ÙÙ„ÙØ¨Ù Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù ÙÙØ±ÙÙŠØ¶ÙØ©ÙŒ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ù…ÙØ³Ù’Ù„ÙÙ…Ù",
                translation: "Seeking knowledge is obligatory upon every Muslim.",
                context: "Education and learning are religious duties for all Muslims, regardless of gender or age.",
                topic: "Knowledge",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Anas ibn Malik",
                keywords: ["knowledge", "learning", "education", "obligatory", "duty", "every muslim"]
            },
            {
                reference: "Sahih Muslim 7:1 - Good Character",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ù…ÙÙ†Ù’ Ø£ÙØ­ÙØ¨ÙÙ‘ÙƒÙÙ…Ù’ Ø¥ÙÙ„ÙÙŠÙÙ‘ ÙˆÙØ£ÙÙ‚Ù’Ø±ÙØ¨ÙÙƒÙÙ…Ù’ Ù…ÙÙ†ÙÙ‘ÙŠ Ù…ÙØ¬Ù’Ù„ÙØ³Ù‹Ø§ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù‚ÙÙŠÙØ§Ù…ÙØ©Ù Ø£ÙØ­ÙØ§Ø³ÙÙ†ÙÙƒÙÙ…Ù’ Ø£ÙØ®Ù’Ù„ÙØ§Ù‚Ù‹Ø§",
                translation: "The most beloved of you to me and the nearest to me in the Hereafter are those with the best character.",
                context: "Good character and manners are highly valued in Islam and bring one closer to the Prophet (ï·º).",
                topic: "Character",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["character", "manners", "beloved", "near", "hereafter", "best"]
            },
            {
                reference: "Sahih Bukhari 5:78 - Family",
                arabic: "Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ù„ÙØ£ÙÙ‡Ù’Ù„ÙÙ‡Ù",
                translation: "The best of you are those who are best to their families.",
                context: "The Prophet (ï·º) emphasizes treating family members with kindness and respect.",
                topic: "Family",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Aisha",
                keywords: ["family", "best", "kindness", "respect", "treatment", "relationships"]
            },
            {
                reference: "Sahih Muslim 8:1 - Neighbors",
                arabic: "Ù…ÙØ§ Ø²ÙØ§Ù„Ù Ø¬ÙØ¨Ù’Ø±ÙÙŠÙ„Ù ÙŠÙÙˆØµÙÙŠÙ†ÙÙŠ Ø¨ÙØ§Ù„Ù’Ø¬ÙØ§Ø±Ù Ø­ÙØªÙÙ‘Ù‰ Ø¸ÙÙ†ÙÙ†Ù’ØªÙ Ø£ÙÙ†ÙÙ‘Ù‡Ù Ø³ÙÙŠÙÙˆÙØ±ÙÙ‘Ø«ÙÙ‡Ù",
                translation: "Jibreel continued to advise me about treating neighbors well until I thought he would make them heirs.",
                context: "The Prophet (ï·º) was repeatedly advised about the importance of being good to neighbors.",
                topic: "Neighbors",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Aisha",
                keywords: ["neighbors", "treatment", "good", "advice", "jibreel", "importance"]
            },
            {
                reference: "Sahih Bukhari 6:92 - Honesty",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„ØµÙÙ‘Ø¯Ù’Ù‚Ù ÙŠÙÙ‡Ù’Ø¯ÙÙŠ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø¨ÙØ±ÙÙ‘ ÙˆÙØ¥ÙÙ†ÙÙ‘ Ø§Ù„Ù’Ø¨ÙØ±ÙÙ‘ ÙŠÙÙ‡Ù’Ø¯ÙÙŠ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø¬ÙÙ†ÙÙ‘Ø©Ù",
                translation: "Indeed, truthfulness leads to righteousness, and righteousness leads to Paradise.",
                context: "Honesty and truthfulness are pathways to righteousness and ultimately Paradise.",
                topic: "Honesty",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abdullah ibn Mas'ud",
                keywords: ["honesty", "truthfulness", "righteousness", "paradise", "pathway", "leads"]
            },
            {
                reference: "Sahih Muslim 9:1 - Patience",
                arabic: "Ù…ÙØ§ ÙŠÙØµÙÙŠØ¨Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…Ù Ù…ÙÙ†Ù’ Ù†ÙØµÙØ¨Ù ÙˆÙÙ„ÙØ§ ÙˆÙØµÙØ¨Ù ÙˆÙÙ„ÙØ§ Ù‡ÙÙ…ÙÙ‘ ÙˆÙÙ„ÙØ§ Ø­ÙØ²Ù’Ù†Ù ÙˆÙÙ„ÙØ§ Ø£ÙØ°Ù‹Ù‰ ÙˆÙÙ„ÙØ§ ØºÙÙ…ÙÙ‘ Ø­ÙØªÙÙ‘Ù‰ Ø§Ù„Ø´ÙÙ‘ÙˆÙ’ÙƒÙØ©Ù ÙŠÙØ´ÙØ§ÙƒÙÙ‡ÙØ§ Ø¥ÙÙ„ÙÙ‘Ø§ ÙƒÙÙÙÙ‘Ø±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø¨ÙÙ‡ÙØ§ Ù…ÙÙ†Ù’ Ø®ÙØ·ÙØ§ÙŠÙØ§Ù‡Ù",
                translation: "No fatigue, illness, anxiety, sorrow, harm, or grief afflicts a Muslim, even a thorn that pricks him, except that Allah expiates some of his sins by it.",
                context: "Allah uses difficulties and hardships to expiate the sins of Muslims.",
                topic: "Patience",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Sa'id Al-Khudri",
                keywords: ["patience", "difficulties", "sins", "expiate", "allah", "afflictions"]
            },
            {
                reference: "Sahih Bukhari 7:45 - Charity",
                arabic: "Ù…ÙØ§ Ù†ÙÙ‚ÙØµÙØªÙ’ ØµÙØ¯ÙÙ‚ÙØ©ÙŒ Ù…ÙÙ†Ù’ Ù…ÙØ§Ù„Ù",
                translation: "Charity does not decrease wealth.",
                context: "Giving charity does not reduce one's wealth; instead, it brings blessings and increase.",
                topic: "Charity",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["charity", "wealth", "decrease", "blessings", "increase", "giving"]
            },
            {
                reference: "Sahih Muslim 10:1 - Smiling",
                arabic: "ØªÙØ¨ÙØ³ÙÙ‘Ù…ÙÙƒÙ ÙÙÙŠ ÙˆÙØ¬Ù’Ù‡Ù Ø£ÙØ®ÙÙŠÙƒÙ Ù„ÙÙƒÙ ØµÙØ¯ÙÙ‚ÙØ©ÙŒ",
                translation: "Your smiling in the face of your brother is charity for you.",
                context: "Even a simple smile is considered an act of charity in Islam.",
                topic: "Smiling",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Dharr",
                keywords: ["smiling", "charity", "brother", "simple", "act", "kindness"]
            },
            {
                reference: "Sahih Bukhari 8:67 - Visiting the Sick",
                arabic: "Ø¥ÙØ°ÙØ§ Ø¹ÙØ§Ø¯Ù Ø§Ù„Ø±ÙÙ‘Ø¬ÙÙ„Ù Ø£ÙØ®ÙØ§Ù‡Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…Ù Ù…ÙØ´ÙÙ‰ ÙÙÙŠ Ø®ÙØ±ÙØ§ÙÙ Ø§Ù„Ù’Ø¬ÙÙ†ÙÙ‘Ø©Ù",
                translation: "When a man visits his Muslim brother, he walks in the meadows of Paradise.",
                context: "Visiting the sick brings great rewards and is highly encouraged in Islam.",
                topic: "Visiting Sick",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["visiting", "sick", "paradise", "rewards", "encouraged", "brother"]
            },
            {
                reference: "Sahih Muslim 11:1 - Good Speech",
                arabic: "Ù…ÙÙ†Ù’ ÙƒÙØ§Ù†Ù ÙŠÙØ¤Ù’Ù…ÙÙ†Ù Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ø¢Ø®ÙØ±Ù ÙÙÙ„Ù’ÙŠÙÙ‚ÙÙ„Ù’ Ø®ÙÙŠÙ’Ø±Ù‹Ø§ Ø£ÙÙˆÙ’ Ù„ÙÙŠÙØµÙ’Ù…ÙØªÙ’",
                translation: "Whoever believes in Allah and the Last Day, let him speak good or remain silent.",
                context: "Muslims should either speak good words or remain silent, avoiding harmful speech.",
                topic: "Speech",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["speech", "good", "silent", "belief", "allah", "last day"]
            },
            {
                reference: "Sahih Bukhari 9:89 - Respecting Elders",
                arabic: "Ù„ÙÙŠÙ’Ø³Ù Ù…ÙÙ†ÙÙ‘Ø§ Ù…ÙÙ†Ù’ Ù„ÙÙ…Ù’ ÙŠÙØ±Ù’Ø­ÙÙ…Ù’ ØµÙØºÙÙŠØ±ÙÙ†ÙØ§ ÙˆÙÙŠÙÙˆÙÙ‚ÙÙ‘Ø±Ù’ ÙƒÙØ¨ÙÙŠØ±ÙÙ†ÙØ§",
                translation: "He is not one of us who does not have mercy on our young and does not respect our elders.",
                context: "Respecting elders and showing mercy to the young are essential Islamic values.",
                topic: "Respect",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Anas ibn Malik",
                keywords: ["respect", "elders", "mercy", "young", "essential", "values"]
            },
            {
                reference: "Sahih Muslim 12:1 - Helping Others",
                arabic: "Ù…ÙÙ†Ù’ Ù†ÙÙÙÙ‘Ø³Ù Ø¹ÙÙ†Ù’ Ù…ÙØ¤Ù’Ù…ÙÙ†Ù ÙƒÙØ±Ù’Ø¨ÙØ©Ù‹ Ù…ÙÙ†Ù’ ÙƒÙØ±ÙØ¨Ù Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙØ§ Ù†ÙÙÙÙ‘Ø³Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø¹ÙÙ†Ù’Ù‡Ù ÙƒÙØ±Ù’Ø¨ÙØ©Ù‹ Ù…ÙÙ†Ù’ ÙƒÙØ±ÙØ¨Ù ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù‚ÙÙŠÙØ§Ù…ÙØ©Ù",
                translation: "Whoever relieves a Muslim of a burden from the burdens of the world, Allah will relieve him of a burden from the burdens of the Day of Judgment.",
                context: "Helping others in this world brings help from Allah in the Hereafter.",
                topic: "Helping Others",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["helping", "others", "burden", "world", "hereafter", "allah"]
            },
            {
                reference: "Sahih Bukhari 10:123 - Gratitude",
                arabic: "Ù…ÙÙ†Ù’ Ù„ÙÙ…Ù’ ÙŠÙØ´Ù’ÙƒÙØ±Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Ù„ÙÙ…Ù’ ÙŠÙØ´Ù’ÙƒÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "Whoever does not thank people does not thank Allah.",
                context: "Showing gratitude to people is part of showing gratitude to Allah.",
                topic: "Gratitude",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["gratitude", "thank", "people", "allah", "appreciation", "manners"]
            },
            {
                reference: "Sahih Muslim 13:1 - Brotherhood",
                arabic: "Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…Ù Ø£ÙØ®ÙÙˆ Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…Ù Ù„ÙØ§ ÙŠÙØ¸Ù’Ù„ÙÙ…ÙÙ‡Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ®Ù’Ø°ÙÙ„ÙÙ‡Ù",
                translation: "A Muslim is the brother of another Muslim; he does not oppress him nor does he leave him to someone else.",
                context: "Muslims are brothers and should support each other, not oppress or abandon each other.",
                topic: "Brotherhood",
                source: "Hadith",
                authentication: "Sahih (Authentic)",
                narrator: "Abu Hurairah",
                keywords: ["brotherhood", "muslim", "oppress", "abandon", "support", "unity"]
            }
        ];
        
        // Fiqh Database - Islamic Law
        const fiqhDatabase = [
            {
                reference: "Inheritance Laws - Al-Nisa 4:11-12",
                arabic: "ÙŠÙÙˆØµÙÙŠÙƒÙÙ…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙÙÙŠ Ø£ÙÙˆÙ’Ù„ÙØ§Ø¯ÙÙƒÙÙ…Ù’ Û– Ù„ÙÙ„Ø°ÙÙ‘ÙƒÙØ±Ù Ù…ÙØ«Ù’Ù„Ù Ø­ÙØ¸ÙÙ‘ Ø§Ù„Ù’Ø£ÙÙ†Ø«ÙÙŠÙÙŠÙ’Ù†Ù",
                translation: "Allah instructs you concerning your children: for the male, what is equal to the share of two females.",
                context: "Basic principle of Islamic inheritance where males receive twice the share of females. This applies to children's inheritance from their parents. The male child receives twice the share of a female child.",
                topic: "Inheritance",
                source: "Fiqh",
                category: "Family Law",
                keywords: ["inheritance", "children", "males", "females", "shares", "family", "law", "parents", "distribution"]
            },
            {
                reference: "Spouse Inheritance - Al-Nisa 4:12",
                arabic: "ÙˆÙÙ„ÙÙƒÙÙ…Ù’ Ù†ÙØµÙ’ÙÙ Ù…ÙØ§ ØªÙØ±ÙÙƒÙ Ø£ÙØ²Ù’ÙˆÙØ§Ø¬ÙÙƒÙÙ…Ù’ Ø¥ÙÙ† Ù„ÙÙ‘Ù…Ù’ ÙŠÙÙƒÙÙ† Ù„ÙÙ‘Ù‡ÙÙ†ÙÙ‘ ÙˆÙÙ„ÙØ¯ÙŒ",
                translation: "And for you is half of what your wives leave if they have no child.",
                context: "If a wife dies without children, her husband inherits half of her estate. If she has children, he gets one-fourth. This ensures fair distribution while maintaining family stability.",
                topic: "Inheritance",
                source: "Fiqh",
                category: "Family Law",
                keywords: ["inheritance", "spouse", "wife", "husband", "children", "estate", "distribution", "family law", "marriage"]
            },
            {
                reference: "Parent Inheritance - Al-Nisa 4:11",
                arabic: "ÙˆÙÙ„ÙØ£ÙØ¨ÙÙˆÙÙŠÙ’Ù‡Ù Ù„ÙÙƒÙÙ„ÙÙ‘ ÙˆÙØ§Ø­ÙØ¯Ù Ù…ÙÙ‘Ù†Ù’Ù‡ÙÙ…ÙØ§ Ø§Ù„Ø³ÙÙ‘Ø¯ÙØ³Ù Ù…ÙÙ…ÙÙ‘Ø§ ØªÙØ±ÙÙƒÙ",
                translation: "And for one's parents, to each one of them is a sixth of what he left.",
                context: "Parents inherit one-sixth each from their deceased child's estate. This applies when the deceased has children. If no children, parents get more. This ensures parents are cared for in their old age.",
                topic: "Inheritance",
                source: "Fiqh",
                category: "Family Law",
                keywords: ["inheritance", "parents", "sixth", "estate", "children", "deceased", "care", "old age", "family law"]
            },
            {
                reference: "Sibling Inheritance - Al-Nisa 4:176",
                arabic: "ÙŠÙØ³Ù’ØªÙÙÙ’ØªÙÙˆÙ†ÙÙƒÙ Ù‚ÙÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙÙÙ’ØªÙÙŠÙƒÙÙ…Ù’ ÙÙÙŠ Ø§Ù„Ù’ÙƒÙÙ„ÙØ§Ù„ÙØ©Ù",
                translation: "They request from you a [legal] ruling. Say, 'Allah gives you a ruling concerning one having neither descendants nor ascendants.'",
                context: "When someone dies without parents or children (kalalah), their siblings inherit. Brothers get twice the share of sisters. This ensures family wealth stays within the family unit.",
                topic: "Inheritance",
                source: "Fiqh",
                category: "Family Law",
                keywords: ["inheritance", "siblings", "brothers", "sisters", "kalalah", "no parents", "no children", "family wealth", "distribution"]
            },
            {
                reference: "Inheritance Calculation - Islamic Mathematics",
                arabic: "ÙÙØ±ÙÙŠØ¶ÙØ©Ù‹ Ù…ÙÙ‘Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Û— Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙƒÙØ§Ù†Ù Ø¹ÙÙ„ÙÙŠÙ…Ù‹Ø§ Ø­ÙÙƒÙÙŠÙ…Ù‹Ø§",
                translation: "An obligation from Allah. Indeed, Allah is ever Knowing and Wise.",
                context: "Islamic inheritance uses precise mathematical calculations to ensure fair distribution. The total estate is divided into shares (faraid) with specific fractions for each heir. This prevents disputes and ensures justice.",
                topic: "Inheritance",
                source: "Fiqh",
                category: "Family Law",
                keywords: ["inheritance", "calculation", "mathematics", "faraid", "shares", "fractions", "heirs", "disputes", "justice", "fair distribution"]
            },
            {
                reference: "Prayer Times - Al-Isra 17:78",
                arabic: "Ø£ÙÙ‚ÙÙ…Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù Ù„ÙØ¯ÙÙ„ÙÙˆÙƒÙ Ø§Ù„Ø´ÙÙ‘Ù…Ù’Ø³Ù Ø¥ÙÙ„ÙÙ‰Ù° ØºÙØ³ÙÙ‚Ù Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„Ù",
                translation: "Establish prayer from the decline of the sun until the darkness of the night.",
                context: "General guidance on prayer timing from sunset to night.",
                topic: "Prayer Times",
                source: "Fiqh",
                category: "Worship",
                keywords: ["prayer", "times", "sunset", "night", "worship", "timing"]
            },
            {
                reference: "Business Ethics - Al-Baqarah 2:282",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø¥ÙØ°ÙØ§ ØªÙØ¯ÙØ§ÙŠÙÙ†ØªÙÙ… Ø¨ÙØ¯ÙÙŠÙ’Ù†Ù Ø¥ÙÙ„ÙÙ‰Ù° Ø£ÙØ¬ÙÙ„Ù Ù…ÙÙ‘Ø³ÙÙ…Ù‹Ù‘Ù‰ ÙÙØ§ÙƒÙ’ØªÙØ¨ÙÙˆÙ‡Ù",
                translation: "O you who have believed, when you contract a debt for a specified term, write it down.",
                context: "Islamic business ethics requiring written contracts for financial transactions.",
                topic: "Business Ethics",
                source: "Fiqh",
                category: "Commercial Law",
                keywords: ["business", "contracts", "debt", "ethics", "transactions", "writing"]
            }
        ];
        
        // New Muslim Database - Comprehensive Guidance
        const newMuslimDatabase = [
            {
                reference: "Shahada - Declaration of Faith",
                arabic: "Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "I bear witness that there is no deity except Allah, and I bear witness that Muhammad is the Messenger of Allah.",
                context: "The first step for new Muslims - declaring faith in Allah and His Messenger. This is your entry into Islam. You can say this at home, in private, or anywhere you feel comfortable. The Shahada is the foundation of your faith journey.",
                topic: "Shahada",
                source: "New Muslim",
                category: "Basic Faith",
                keywords: ["shahada", "declaration", "faith", "allah", "muhammad", "messenger", "new muslim", "first step"]
            },
            {
                reference: "Five Pillars - Foundation of Islam",
                arabic: "Ø¨ÙÙ†ÙÙŠÙ Ø§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙ‰ Ø®ÙÙ…Ù’Ø³Ù",
                translation: "Islam is built upon five [pillars]",
                context: "Essential foundation: 1) Shahada (faith declaration), 2) Salah (prayer), 3) Zakat (charity), 4) Sawm (fasting), 5) Hajj (pilgrimage). Start with Shahada and Salah - the others come later.",
                topic: "Five Pillars",
                source: "New Muslim",
                category: "Basic Faith",
                keywords: ["five pillars", "foundation", "islam", "basic", "essential", "new muslim", "shahada", "salah"]
            },
            {
                reference: "Wudu Guide - Complete Ablution",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø¥ÙØ°ÙØ§ Ù‚ÙÙ…Ù’ØªÙÙ…Ù’ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙÙØ§ØºÙ’Ø³ÙÙ„ÙÙˆØ§ ÙˆÙØ¬ÙÙˆÙ‡ÙÙƒÙÙ…Ù’",
                translation: "O you who have believed, when you rise to [perform] prayer, wash your faces",
                context: "Step-by-step wudu: 1) Say 'Bismillah' and wash hands 3x, 2) Rinse mouth 3x, 3) Rinse nose 3x, 4) Wash face 3x, 5) Wash arms to elbows 3x, 6) Wipe head once, 7) Wash feet to ankles 3x. Each step with intention.",
                topic: "Wudu Guide",
                source: "New Muslim",
                category: "Worship",
                keywords: ["wudu", "ablution", "cleanliness", "prayer", "new muslim", "step by step", "how to"]
            },
            {
                reference: "Daily Prayers - Names & Times",
                arabic: "Ø£ÙÙ‚ÙÙ…Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù Ù„ÙØ¯ÙÙ„ÙÙˆÙƒÙ Ø§Ù„Ø´ÙÙ‘Ù…Ù’Ø³Ù Ø¥ÙÙ„ÙÙ‰Ù° ØºÙØ³ÙÙ‚Ù Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„Ù",
                translation: "Establish prayer from the decline of the sun until the darkness of the night",
                context: "5 Daily Prayers: 1) Fajr (Dawn) - 2 rakats, 2) Dhuhr (Noon) - 4 rakats, 3) Asr (Afternoon) - 4 rakats, 4) Maghrib (Sunset) - 3 rakats, 5) Isha (Night) - 4 rakats. Start with Fajr - it's the shortest and easiest to learn.",
                topic: "Daily Prayers",
                source: "New Muslim",
                category: "Worship",
                keywords: ["prayers", "fajr", "dhuhr", "asr", "maghrib", "isha", "rakats", "times", "new muslim", "names"]
            },
            {
                reference: "Prayer Structure - What is a Rakat?",
                arabic: "Ø§Ù„Ø±ÙÙ‘ÙƒÙ’Ø¹ÙØ©Ù Ø£ÙØµÙ’Ù„Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù",
                translation: "The rakat is the foundation of prayer",
                context: "A rakat consists of: 1) Standing (Qiyam) - recite Al-Fatiha + short surah, 2) Bowing (Ruku) - say 'Subhanallah' 3x, 3) Standing up, 4) Prostration (Sujood) - say 'Subhanallah' 3x, 5) Sitting between prostrations, 6) Second prostration. This completes one rakat.",
                topic: "Prayer Structure",
                source: "New Muslim",
                category: "Worship",
                keywords: ["rakat", "prayer structure", "qiyam", "ruku", "sujood", "new muslim", "how to pray", "steps"]
            },
            {
                reference: "Easy Surahs to Memorize - Start Simple",
                arabic: "Ø§Ù‚Ù’Ø±ÙØ£Ù’ Ø¨ÙØ§Ø³Ù’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù",
                translation: "Read in the name of your Lord who created",
                context: "Start with these short, easy surahs: 1) Al-Fatiha (7 verses) - essential for every prayer, 2) Al-Ikhlas (4 verses) - about Allah's oneness, 3) Al-Falaq (5 verses) - seeking protection, 4) An-Nas (6 verses) - seeking refuge, 5) Al-Kawthar (3 verses) - shortest surah. Learn one at a time.",
                topic: "Easy Surahs",
                source: "New Muslim",
                category: "Education",
                keywords: ["surahs", "memorize", "easy", "short", "fatiha", "ikhlas", "falaq", "nas", "kawthar", "new muslim", "start simple"]
            },
            {
                reference: "First Prayer Steps - Don't Feel Lost",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙØ¹Ù Ø§Ù„ØµÙÙ‘Ø§Ø¨ÙØ±ÙÙŠÙ†Ù",
                translation: "Indeed, Allah is with the patient",
                context: "It's natural to feel a little lost at first! Start with Fajr prayer (2 rakats): 1) Make wudu, 2) Face Qibla (direction of Kaaba), 3) Make intention, 4) Say 'Allahu Akbar', 5) Recite Al-Fatiha, 6) Recite Al-Ikhlas, 7) Bow, 8) Prostrate twice, 9) Repeat for second rakat. Take it step by step - Allah sees your effort.",
                topic: "First Prayer Steps",
                source: "New Muslim",
                category: "Worship",
                keywords: ["first prayer", "steps", "fajr", "don't feel lost", "step by step", "new muslim", "guidance", "encouragement"]
            },
            {
                reference: "Common Prayer Phrases - Essential Arabic",
                arabic: "Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡ÙØŒ Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù",
                translation: "Glory be to Allah, All praise is for Allah, Allah is the Greatest",
                context: "Essential phrases: 'Allahu Akbar' (Allah is Greatest) - start prayer, 'Subhanallah' (Glory be to Allah) - during bowing/prostration, 'Alhamdulillah' (All praise is for Allah) - standing up, 'Sami Allahu liman hamidah' (Allah hears those who praise Him) - after bowing, 'Rabbana wa lakal hamd' (Our Lord, to You is all praise).",
                topic: "Prayer Phrases",
                source: "New Muslim",
                category: "Education",
                keywords: ["prayer phrases", "arabic", "essential", "allahu akbar", "subhanallah", "alhamdulillah", "new muslim", "language"]
            },
            {
                reference: "Prayer Times - When to Pray",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙƒÙØ§Ù†ÙØªÙ’ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù ÙƒÙØªÙØ§Ø¨Ù‹Ø§ Ù…ÙÙ‘ÙˆÙ’Ù‚ÙÙˆØªÙ‹Ø§",
                translation: "Indeed, prayer has been decreed upon the believers a decree of specified times",
                context: "Prayer times vary by location and season. Use a prayer app or check local mosque. General times: Fajr (before sunrise), Dhuhr (after sun passes highest point), Asr (mid-afternoon), Maghrib (after sunset), Isha (night). Don't worry about exact times initially - focus on learning the prayer first.",
                topic: "Prayer Times",
                source: "New Muslim",
                category: "Worship",
                keywords: ["prayer times", "when to pray", "fajr", "dhuhr", "asr", "maghrib", "isha", "new muslim", "guidance", "apps"]
            },
            {
                reference: "It's Okay to Make Mistakes - Allah is Merciful",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ØºÙÙÙÙˆØ±ÙŒ Ø±ÙÙ‘Ø­ÙÙŠÙ…ÙŒ",
                translation: "Indeed, Allah is Forgiving and Merciful",
                context: "New Muslims often worry about making mistakes in prayer. Remember: Allah sees your intention and effort. It's better to pray imperfectly than not to pray at all. The Prophet (ï·º) said: 'Actions are judged by intentions.' Start simple, learn gradually, and don't be hard on yourself.",
                topic: "Making Mistakes",
                source: "New Muslim",
                category: "Character",
                keywords: ["mistakes", "forgiveness", "mercy", "intention", "effort", "new muslim", "encouragement", "don't worry"]
            },
            {
                reference: "Finding Support - You're Not Alone",
                arabic: "ÙˆÙØªÙØ¹ÙØ§ÙˆÙÙ†ÙÙˆØ§ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø¨ÙØ±ÙÙ‘ ÙˆÙØ§Ù„ØªÙÙ‘Ù‚Ù’ÙˆÙÙ‰Ù°",
                translation: "And cooperate in righteousness and piety",
                context: "Connect with your local Muslim community: visit the mosque, join new Muslim groups, find a mentor. Many Muslims love helping new converts. Online resources: Islamic apps, YouTube channels, websites. Remember: every Muslim was once new to Islam. You're part of a global family of 2 billion Muslims.",
                topic: "Finding Support",
                source: "New Muslim",
                category: "Social",
                keywords: ["support", "community", "mosque", "mentor", "not alone", "global family", "new muslim", "encouragement", "resources"]
            },
            {
                reference: "Shahada at Home - Complete Guide",
                arabic: "Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "I bear witness that there is no deity except Allah, and I bear witness that Muhammad is the Messenger of Allah.",
                context: "For those who prefer to say the Shahada at home: 1) Find a quiet, clean place, 2) Face the Qibla (direction of Kaaba) if possible, 3) Make intention in your heart, 4) Say 'Bismillah' (In the name of Allah), 5) Recite the Shahada clearly and sincerely, 6) You can say it in Arabic or your native language, 7) Say it with conviction and understanding. Allah accepts sincere hearts, not perfect pronunciation. You can repeat it multiple times to feel comfortable. This is your personal moment with Allah.",
                topic: "Shahada at Home",
                source: "New Muslim",
                category: "Basic Faith",
                keywords: ["shahada", "at home", "private", "personal", "guidance", "step by step", "quiet place", "intention", "bismillah", "sincere", "new muslim"]
            },
            {
                reference: "Shahada in Your Language - Translation Guide",
                arabic: "Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "I bear witness that there is no deity except Allah, and I bear witness that Muhammad is the Messenger of Allah.",
                context: "You can say the Shahada in your native language: English: 'I bear witness that there is no deity except Allah, and I bear witness that Muhammad is the Messenger of Allah.' Spanish: 'Doy testimonio de que no hay mÃ¡s divinidad que Allah, y doy testimonio de que Muhammad es el Mensajero de Allah.' French: 'J'atteste qu'il n'y a de divinitÃ© qu'Allah, et j'atteste que Muhammad est le Messager d'Allah.' The meaning is what matters most - Allah understands all languages.",
                topic: "Shahada in Your Language",
                source: "New Muslim",
                category: "Basic Faith",
                keywords: ["shahada", "language", "translation", "english", "spanish", "french", "native language", "meaning", "understanding", "new muslim"]
            }
        ];
        
        // What is Islam Database - Addressing Common Questions & Misconceptions
        const whatIsIslamDatabase = [
            {
                reference: "What is Islam? - Core Definition",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ø¯ÙÙ‘ÙŠÙ†Ù Ø¹ÙÙ†Ø¯Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙØ§Ù…Ù",
                translation: "Indeed, the religion in the sight of Allah is Islam",
                context: "Islam means 'submission to God' and 'peace.' It's a monotheistic faith that believes in one God (Allah) and follows the teachings of Prophet Muhammad (ï·º). Islam is not a new religion - it's the same message of monotheism taught by all prophets including Abraham, Moses, and Jesus. The word 'Islam' comes from the Arabic root 'salaam' meaning peace, security, and submission to God's will.",
                topic: "What is Islam",
                source: "What is Islam",
                category: "Basic Understanding",
                keywords: ["islam", "definition", "meaning", "monotheism", "one god", "allah", "prophets", "abraham", "moses", "jesus", "peace", "submission"]
            },
            {
                reference: "Islam and Violence - What Does Islam Really Say?",
                arabic: "ÙˆÙÙ„ÙØ§ ØªÙØ¹Ù’ØªÙØ¯ÙÙˆØ§ Ûš Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ ÙŠÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ù…ÙØ¹Ù’ØªÙØ¯ÙÙŠÙ†Ù",
                translation: "And do not transgress. Indeed, Allah does not like transgressors",
                context: "Islam strictly prohibits violence and aggression. The Quran says 'Whoever kills a person unjustly, it is as if he has killed all mankind' (5:32). Islam only permits self-defense when attacked. The word 'jihad' means 'struggle' - primarily the internal struggle to be a better person. Most Muslims are peaceful people who want to live in harmony with others. Terrorism and violence committed in the name of Islam are condemned by Islamic scholars worldwide.",
                topic: "Islam and Violence",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["violence", "terrorism", "jihad", "self-defense", "peace", "condemn", "scholars", "misconception", "what islam says", "prohibition"]
            },
            {
                reference: "Women in Islam - Rights and Status",
                arabic: "ÙˆÙÙ„ÙÙ‡ÙÙ†ÙÙ‘ Ù…ÙØ«Ù’Ù„Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ†ÙÙ‘ Ø¨ÙØ§Ù„Ù’Ù…ÙØ¹Ù’Ø±ÙÙˆÙÙ",
                translation: "And due to them is similar to what is expected of them, according to what is reasonable",
                context: "Islam gave women rights 1400 years ago that Western women only gained recently: the right to own property, inherit, choose their spouse, get education, work, and keep their earnings. The hijab is a choice, not forced. Prophet Muhammad (ï·º) said 'The best of you are those who are best to their wives.' Islam promotes equality between men and women while recognizing their different roles and responsibilities. Many Muslim women are doctors, engineers, teachers, and leaders.",
                topic: "Women in Islam",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["women", "rights", "hijab", "equality", "property", "inheritance", "education", "work", "prophet", "misconception", "freedom"]
            },
            {
                reference: "Islam and Other Religions - Tolerance and Respect",
                arabic: "Ù„ÙØ§ Ø¥ÙÙƒÙ’Ø±ÙØ§Ù‡Ù ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘ÙŠÙ†Ù",
                translation: "There is no compulsion in religion",
                context: "Islam teaches religious tolerance and respect for other faiths. The Quran says 'To you your religion, and to me mine' (109:6). Muslims are commanded to treat Jews and Christians as 'People of the Book' with respect. Prophet Muhammad (ï·º) protected Jewish and Christian communities. Forced conversion is forbidden in Islam. Muslims believe in religious freedom and that God guides whom He wills. Many Muslim-majority countries have churches, synagogues, and temples.",
                topic: "Religious Tolerance",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["tolerance", "other religions", "jews", "christians", "people of the book", "forced conversion", "forbidden", "religious freedom", "respect", "misconception"]
            },
            {
                reference: "Islam and Science - Compatibility and History",
                arabic: "Ø¥ÙÙ†ÙÙ‘ ÙÙÙŠ Ø®ÙÙ„Ù’Ù‚Ù Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙØ§Ø®Ù’ØªÙÙ„ÙØ§ÙÙ Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„Ù ÙˆÙØ§Ù„Ù†ÙÙ‘Ù‡ÙØ§Ø±Ù Ù„ÙØ¢ÙŠÙØ§ØªÙ Ù„ÙÙ‘Ø£ÙÙˆÙ„ÙÙŠ Ø§Ù„Ù’Ø£ÙÙ„Ù’Ø¨ÙØ§Ø¨Ù",
                translation: "Indeed, in the creation of the heavens and the earth and the alternation of the night and the day are signs for those of understanding",
                context: "Islam encourages scientific inquiry and learning. The Quran contains many scientific facts discovered centuries later: embryonic development, water cycle, expansion of the universe. Muslim scientists made major contributions to mathematics, medicine, astronomy, and chemistry during the Islamic Golden Age (8th-14th centuries). Islam sees no conflict between faith and science - both seek to understand God's creation. Many Muslim scientists today work in cutting-edge research.",
                topic: "Islam and Science",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["science", "scientific inquiry", "quran", "embryology", "water cycle", "universe", "mathematics", "medicine", "astronomy", "golden age", "no conflict"]
            },
            {
                reference: "Islam and Democracy - Political Systems",
                arabic: "ÙˆÙØ£ÙÙ…Ù’Ø±ÙÙ‡ÙÙ…Ù’ Ø´ÙÙˆØ±ÙÙ‰Ù° Ø¨ÙÙŠÙ’Ù†ÙÙ‡ÙÙ…Ù’",
                translation: "And their affair is [determined by] consultation among themselves",
                context: "Islam promotes consultation (shura) and consensus-building in decision-making. The Quran encourages 'consultation among themselves' in community affairs. Many Muslim-majority countries have democratic governments. Islam is compatible with various political systems as long as they uphold justice, human rights, and the rule of law. The Prophet (ï·º) consulted with his companions on important matters. Islamic principles support good governance, transparency, and public participation.",
                topic: "Islam and Democracy",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["democracy", "consultation", "shura", "consensus", "political systems", "justice", "human rights", "rule of law", "governance", "transparency", "participation"]
            },
            {
                reference: "Islam and Modern Life - Adaptability and Relevance",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø£ÙØ·ÙÙŠØ¹ÙÙˆØ§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØ·ÙÙŠØ¹ÙÙˆØ§ Ø§Ù„Ø±ÙÙ‘Ø³ÙÙˆÙ„Ù ÙˆÙØ£ÙÙˆÙ„ÙÙŠ Ø§Ù„Ù’Ø£ÙÙ…Ù’Ø±Ù Ù…ÙÙ†ÙƒÙÙ…Ù’",
                translation: "O you who have believed, obey Allah and obey the Messenger and those in authority among you",
                context: "Islam is a timeless religion that adapts to modern life. Islamic principles are universal and can be applied to contemporary issues like technology, social media, and modern careers. Muslims use smartphones, social media, and modern technology while maintaining Islamic values. Islam encourages innovation and progress while staying true to core principles. Many Muslims work in tech, medicine, business, and other modern fields while practicing their faith.",
                topic: "Islam and Modern Life",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["modern life", "technology", "social media", "careers", "innovation", "progress", "adaptability", "timeless", "universal", "contemporary", "values"]
            },
            {
                reference: "Islam and Human Rights - Dignity and Equality",
                arabic: "ÙˆÙÙ„ÙÙ‚ÙØ¯Ù’ ÙƒÙØ±ÙÙ‘Ù…Ù’Ù†ÙØ§ Ø¨ÙÙ†ÙÙŠ Ø¢Ø¯ÙÙ…Ù",
                translation: "And We have certainly honored the children of Adam",
                context: "Islam teaches that all humans are equal and have inherent dignity. The Prophet (ï·º) said 'All people are equal like the teeth of a comb.' Islam prohibits discrimination based on race, ethnicity, or social status. The Quran emphasizes justice, fairness, and human rights. Muslims are commanded to stand up for justice even against themselves or their families. Islamic law protects the rights of minorities, women, children, and the elderly. Human dignity is a core Islamic value.",
                topic: "Human Rights",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["human rights", "dignity", "equality", "discrimination", "justice", "fairness", "minorities", "protection", "core values", "prophet", "quran"]
            },
            {
                reference: "Islam and Education - Knowledge and Learning",
                arabic: "Ø§Ù‚Ù’Ø±ÙØ£Ù’ Ø¨ÙØ§Ø³Ù’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù",
                translation: "Read in the name of your Lord who created",
                context: "Islam places the highest value on education and knowledge. The first word revealed to Prophet Muhammad (ï·º) was 'Read!' Islam encourages both religious and secular education. The Prophet said 'Seek knowledge from the cradle to the grave' and 'Seek knowledge even if you have to go to China.' Muslim scholars preserved and advanced knowledge during the Dark Ages. Today, many Muslims pursue higher education in various fields. Education is considered a religious duty in Islam.",
                topic: "Education in Islam",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["education", "knowledge", "learning", "read", "religious duty", "secular", "scholars", "preservation", "advancement", "higher education", "china"]
            },
            {
                reference: "Islam and Charity - Social Responsibility",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ£Ù’Ù…ÙØ±Ù Ø¨ÙØ§Ù„Ù’Ø¹ÙØ¯Ù’Ù„Ù ÙˆÙØ§Ù„Ù’Ø¥ÙØ­Ù’Ø³ÙØ§Ù†Ù",
                translation: "Indeed, Allah orders justice and good conduct",
                context: "Islam emphasizes social responsibility and helping others. Zakat (charity) is one of the Five Pillars of Islam. Muslims are encouraged to give 2.5% of their wealth annually to help the poor and needy. Beyond obligatory charity, Islam encourages voluntary giving (sadaqah). The Prophet (ï·º) said 'The best charity is that given in secret.' Islam promotes helping neighbors, caring for orphans, feeding the hungry, and supporting the community. Many Muslim organizations provide humanitarian aid worldwide.",
                topic: "Charity and Social Responsibility",
                source: "What is Islam",
                category: "Common Misconceptions",
                keywords: ["charity", "zakat", "social responsibility", "helping others", "poor", "needy", "voluntary", "sadaqah", "neighbors", "orphans", "humanitarian aid"]
            }
        ];
        
        // Five Pillars of Islam Database - Complete Foundation
        const fivePillarsDatabase = [
            {
                reference: "First Pillar - Shahada (Declaration of Faith)",
                arabic: "Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "I bear witness that there is no deity except Allah, and I bear witness that Muhammad is the Messenger of Allah.",
                context: "The Shahada is the foundation of Islam. It means: 1) There is only one God (Allah), 2) Muhammad (ï·º) is His final messenger. This declaration makes one a Muslim. It's recited during prayer, when converting to Islam, and at important moments. The Shahada affirms monotheism and acceptance of Prophet Muhammad's (ï·º) message.",
                topic: "Shahada",
                source: "Five Pillars",
                category: "Foundation",
                keywords: ["shahada", "declaration", "faith", "monotheism", "allah", "muhammad", "messenger", "first pillar", "foundation", "conversion"]
            },
            {
                reference: "Second Pillar - Salah (Prayer)",
                arabic: "Ø£ÙÙ‚ÙÙ…Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù Ø¥ÙÙ†ÙÙ‘ Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙƒÙØ§Ù†ÙØªÙ’ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù ÙƒÙØªÙØ§Ø¨Ù‹Ø§ Ù…ÙÙ‘ÙˆÙ’Ù‚ÙÙˆØªÙ‹Ø§",
                translation: "Establish prayer. Indeed, prayer has been decreed upon the believers a decree of specified times",
                context: "Salah is the second pillar and the most important act of worship. Five daily prayers: Fajr (2 rakats), Dhuhr (4 rakats), Asr (4 rakats), Maghrib (3 rakats), Isha (4 rakats). Each prayer has specific times and requirements. Prayer connects Muslims directly with Allah, provides spiritual discipline, and maintains daily remembrance of God.",
                topic: "Salah",
                source: "Five Pillars",
                category: "Worship",
                keywords: ["salah", "prayer", "five prayers", "fajr", "dhuhr", "asr", "maghrib", "isha", "rakats", "worship", "second pillar", "daily"]
            },
            {
                reference: "Third Pillar - Zakat (Charity)",
                arabic: "ÙˆÙØ£ÙÙ‚ÙÙŠÙ…ÙÙˆØ§ Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙˆÙØ¢ØªÙÙˆØ§ Ø§Ù„Ø²ÙÙ‘ÙƒÙØ§Ø©Ù",
                translation: "And establish prayer and give zakah",
                context: "Zakat is obligatory charity given annually by Muslims who meet the wealth threshold (nisab). It's 2.5% of savings, gold, silver, and business assets. Zakat purifies wealth, helps the poor, and creates social justice. Recipients include the poor, needy, debtors, travelers, and those working for Allah's cause. It's calculated on lunar year and distributed to eligible recipients.",
                topic: "Zakat",
                source: "Five Pillars",
                category: "Charity",
                keywords: ["zakat", "charity", "obligatory", "2.5%", "wealth", "poor", "needy", "social justice", "purification", "third pillar", "nisab"]
            },
            {
                reference: "Fourth Pillar - Sawm (Fasting)",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ ÙƒÙØªÙØ¨Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù Ø§Ù„ØµÙÙ‘ÙŠÙØ§Ù…Ù ÙƒÙÙ…ÙØ§ ÙƒÙØªÙØ¨Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ù…ÙÙ† Ù‚ÙØ¨Ù’Ù„ÙÙƒÙÙ…Ù’",
                translation: "O you who have believed, decreed upon you is fasting as it was decreed upon those before you",
                context: "Sawm is fasting during the month of Ramadan (9th month of Islamic calendar). Muslims fast from dawn to sunset, abstaining from food, drink, and marital relations. Fasting teaches self-discipline, empathy for the poor, and spiritual purification. It's obligatory for all adult Muslims except those who are ill, traveling, pregnant, nursing, or menstruating.",
                topic: "Sawm",
                source: "Five Pillars",
                category: "Fasting",
                keywords: ["sawm", "fasting", "ramadan", "dawn", "sunset", "self-discipline", "empathy", "purification", "fourth pillar", "obligatory", "exemptions"]
            },
            {
                reference: "Fifth Pillar - Hajj (Pilgrimage)",
                arabic: "ÙˆÙÙ„ÙÙ„ÙÙ‘Ù‡Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù Ø­ÙØ¬ÙÙ‘ Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ Ù…ÙÙ†Ù Ø§Ø³Ù’ØªÙØ·ÙØ§Ø¹Ù Ø¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ø³ÙØ¨ÙÙŠÙ„Ù‹Ø§",
                translation: "And [due] to Allah from the people is a pilgrimage to the House - for whoever is able to find thereto a way",
                context: "Hajj is the pilgrimage to the Kaaba in Mecca, Saudi Arabia. It's obligatory once in a lifetime for Muslims who are physically and financially able. Hajj occurs during Dhul Hijjah (12th month). Rituals include: Ihram (sacred state), Tawaf (circumambulation), Sa'i (walking between Safa and Marwa), standing at Arafat, and stoning the devil. It symbolizes unity, equality, and submission to Allah.",
                topic: "Hajj",
                source: "Five Pillars",
                category: "Pilgrimage",
                keywords: ["hajj", "pilgrimage", "mecca", "kaaba", "obligatory", "once lifetime", "dhul hijjah", "ihram", "tawaf", "arafat", "fifth pillar", "unity"]
            }
        ];
        
        // Sunnah of Prophet Muhammad (PBUH) Database - Complete Guidance
        const sunnahDatabase = [
            {
                reference: "Sunnah - Following the Prophet's Way",
                arabic: "Ù„ÙÙ‚ÙØ¯Ù’ ÙƒÙØ§Ù†Ù Ù„ÙÙƒÙÙ…Ù’ ÙÙÙŠ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ³Ù’ÙˆÙØ©ÙŒ Ø­ÙØ³ÙÙ†ÙØ©ÙŒ",
                translation: "There has certainly been for you in the Messenger of Allah an excellent pattern",
                context: "Sunnah refers to the teachings, actions, and sayings of Prophet Muhammad (ï·º). It's the second source of Islamic law after the Quran. Following the Sunnah brings blessings, spiritual growth, and closeness to Allah. The Prophet (ï·º) said: 'Whoever follows my Sunnah has loved me, and whoever loves me will be with me in Paradise.' Sunnah includes daily habits, manners, and worship practices.",
                topic: "Sunnah",
                source: "Sunnah",
                category: "Guidance",
                keywords: ["sunnah", "prophet", "muhammad", "teachings", "actions", "sayings", "islamic law", "blessings", "love", "paradise", "daily habits", "manners"]
            },
            {
                reference: "Daily Sunnah - Morning and Evening",
                arabic: "Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙØŒ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù",
                translation: "O Allah, by You we enter the morning and by You we enter the evening, by You we live and by You we die, and to You is the resurrection",
                context: "Morning Sunnah: 1) Say morning dhikr, 2) Recite Ayat al-Kursi, 3) Recite Surah Al-Ikhlas, Al-Falaq, An-Nas 3x each, 4) Say morning dua. Evening Sunnah: 1) Say evening dhikr, 2) Recite same surahs, 3) Say evening dua. These practices protect from harm and bring blessings throughout the day and night.",
                topic: "Daily Sunnah",
                source: "Sunnah",
                category: "Daily Practices",
                keywords: ["morning", "evening", "dhikr", "ayat al-kursi", "surah", "dua", "protection", "blessings", "daily", "practices", "sunnah"]
            },
            {
                reference: "Eating Sunnah - Table Manners",
                arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¹ÙÙ„ÙÙ‰ Ø¨ÙØ±ÙÙƒÙØ©Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù",
                translation: "In the name of Allah and with the blessings of Allah",
                context: "Eating Sunnah: 1) Say 'Bismillah' before eating, 2) Eat with right hand, 3) Eat from your side of the plate, 4) Don't waste food, 5) Say 'Alhamdulillah' after finishing, 6) Lick fingers after eating, 7) Don't criticize food, 8) Share food with others. The Prophet (ï·º) said: 'The food of two people is sufficient for three, and the food of three is sufficient for four.'",
                topic: "Eating Sunnah",
                source: "Sunnah",
                category: "Manners",
                keywords: ["eating", "bismillah", "right hand", "manners", "waste", "alhamdulillah", "share", "prophet", "table", "food", "blessings"]
            },
            {
                reference: "Sleeping Sunnah - Bedtime Practices",
                arabic: "Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø±ÙØ¨ÙÙ‘ÙŠ ÙˆÙØ¶ÙØ¹Ù’ØªÙ Ø¬ÙÙ†Ù’Ø¨ÙÙŠØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙØ±Ù’ÙÙØ¹ÙÙ‡ÙØŒ ÙÙØ¥ÙÙ†Ù’ Ø£ÙÙ…Ù’Ø³ÙÙƒÙ’ØªÙ Ù†ÙÙÙ’Ø³ÙÙŠ ÙÙØ§Ø±Ù’Ø­ÙÙ…Ù’Ù‡ÙØ§ØŒ ÙˆÙØ¥ÙÙ†Ù’ Ø£ÙØ±Ù’Ø³ÙÙ„Ù’ØªÙÙ‡ÙØ§ ÙÙØ§Ø­Ù’ÙÙØ¸Ù’Ù‡ÙØ§ Ø¨ÙÙ…ÙØ§ ØªÙØ­Ù’ÙÙØ¸Ù Ø¨ÙÙ‡Ù Ø¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ Ø§Ù„ØµÙÙ‘Ø§Ù„ÙØ­ÙÙŠÙ†Ù",
                translation: "In Your name, my Lord, I lay my side down, and in Your name I raise it. If You should take my soul, then have mercy upon it, and if You should return my soul, then protect it as You protect Your righteous servants",
                context: "Sleeping Sunnah: 1) Recite Ayat al-Kursi before sleeping, 2) Say sleeping dua, 3) Sleep on right side, 4) Face Qibla if possible, 5) Keep room clean and dark, 6) Don't sleep immediately after eating, 7) Say 'Bismillah' when entering home, 8) Recite Surah Al-Mulk before sleeping. These practices bring peaceful sleep and protection.",
                topic: "Sleeping Sunnah",
                source: "Sunnah",
                category: "Daily Practices",
                keywords: ["sleeping", "ayat al-kursi", "dua", "right side", "qibla", "clean", "bismillah", "surah al-mulk", "peaceful", "protection", "bedtime"]
            },
            {
                reference: "Greeting Sunnah - Islamic Etiquette",
                arabic: "Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ ÙˆÙØ±ÙØ­Ù’Ù…ÙØ©Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ±ÙÙƒÙØ§ØªÙÙ‡Ù",
                translation: "Peace be upon you and the mercy of Allah and His blessings",
                context: "Greeting Sunnah: 1) Say 'Assalamu alaikum' when meeting Muslims, 2) Respond with 'Wa alaikum assalam', 3) Shake hands with right hand, 4) Smile when greeting, 5) Greet children and elders, 6) Enter homes with 'Bismillah', 7) Ask permission before entering private spaces. The Prophet (ï·º) said: 'You will not enter Paradise until you believe, and you will not believe until you love one another. Shall I show you something that will make you love one another? Spread greetings among yourselves.'",
                topic: "Greeting Sunnah",
                source: "Sunnah",
                category: "Manners",
                keywords: ["greeting", "assalamu alaikum", "shake hands", "smile", "children", "elders", "bismillah", "permission", "paradise", "love", "manners"]
            },
            {
                reference: "Dress Sunnah - Modest Clothing",
                arabic: "ÙŠÙØ§ Ø¨ÙÙ†ÙÙŠ Ø¢Ø¯ÙÙ…Ù Ù‚ÙØ¯Ù’ Ø£ÙÙ†Ø²ÙÙ„Ù’Ù†ÙØ§ Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ Ù„ÙØ¨ÙØ§Ø³Ù‹Ø§ ÙŠÙÙˆÙØ§Ø±ÙÙŠ Ø³ÙÙˆÙ’Ø¢ØªÙÙƒÙÙ…Ù’ ÙˆÙØ±ÙÙŠØ´Ù‹Ø§",
                translation: "O children of Adam, We have bestowed upon you clothing to conceal your private parts and as adornment",
                context: "Dress Sunnah: 1) Cover awrah (private parts), 2) Wear clean, modest clothing, 3) Avoid tight or transparent clothes, 4) Don't imitate opposite gender, 5) Wear white on Fridays, 6) Keep clothes clean and presentable, 7) Don't waste money on expensive clothes, 8) Dress appropriately for different occasions. Modesty and cleanliness are key principles.",
                topic: "Dress Sunnah",
                source: "Sunnah",
                category: "Appearance",
                keywords: ["dress", "clothing", "modest", "awrah", "clean", "white", "fridays", "waste", "appropriate", "modesty", "cleanliness"]
            },
            {
                reference: "Work Sunnah - Professional Ethics",
                arabic: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ­ÙØ¨ÙÙ‘ Ø¥ÙØ°ÙØ§ Ø¹ÙÙ…ÙÙ„Ù Ø£ÙØ­ÙØ¯ÙÙƒÙÙ…Ù’ Ø¹ÙÙ…ÙÙ„Ù‹Ø§ Ø£ÙÙ†Ù’ ÙŠÙØªÙ’Ù‚ÙÙ†ÙÙ‡Ù",
                translation: "Indeed, Allah loves when one of you does a job, that he perfects it",
                context: "Work Sunnah: 1) Start work with 'Bismillah', 2) Do your best in every task, 3) Be honest and trustworthy, 4) Don't delay work unnecessarily, 5) Treat colleagues with respect, 6) Don't waste time or resources, 7) Say 'Alhamdulillah' when completing tasks, 8) Help others in their work. The Prophet (ï·º) was known for his honesty and was called 'Al-Amin' (the trustworthy).",
                topic: "Work Sunnah",
                source: "Sunnah",
                category: "Professional",
                keywords: ["work", "bismillah", "best", "honest", "trustworthy", "delay", "respect", "waste", "alhamdulillah", "help", "al-amin"]
            }
        ];
        
        // Family and Daily Life Database - Comprehensive Guidance
        const familyDailyLifeDatabase = [
            {
                reference: "Family Relations - Al-Baqarah 2:187",
                arabic: "Ù‡ÙÙ†ÙÙ‘ Ù„ÙØ¨ÙØ§Ø³ÙŒ Ù„ÙÙƒÙÙ…Ù’ ÙˆÙØ£ÙÙ†Ù’ØªÙÙ…Ù’ Ù„ÙØ¨ÙØ§Ø³ÙŒ Ù„ÙÙ‡ÙÙ†ÙÙ‘",
                translation: "They are clothing for you and you are clothing for them.",
                context: "This verse beautifully describes the relationship between spouses - they are like clothing that protects, covers, and beautifies each other. In a healthy family, each member supports and complements the others, creating a harmonious unit where love, respect, and understanding flourish.",
                topic: "Family Relations",
                source: "Family & Daily Life",
                category: "Marriage",
                keywords: ["family", "marriage", "spouses", "relationship", "love", "protection", "unity", "harmony", "support", "understanding"]
            },
            {
                reference: "Family Unity - Al-Rum 30:21",
                arabic: "ÙˆÙÙ…ÙÙ†Ù’ Ø¢ÙŠÙØ§ØªÙÙ‡Ù Ø£ÙÙ†Ù’ Ø®ÙÙ„ÙÙ‚Ù Ù„ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ Ø£ÙÙ†Ù’ÙÙØ³ÙÙƒÙÙ…Ù’ Ø£ÙØ²Ù’ÙˆÙØ§Ø¬Ù‹Ø§ Ù„ÙØªÙØ³Ù’ÙƒÙÙ†ÙÙˆØ§ Ø¥ÙÙ„ÙÙŠÙ’Ù‡ÙØ§ ÙˆÙØ¬ÙØ¹ÙÙ„Ù Ø¨ÙÙŠÙ’Ù†ÙÙƒÙÙ…Ù’ Ù…ÙÙˆÙØ¯ÙÙ‘Ø©Ù‹ ÙˆÙØ±ÙØ­Ù’Ù…ÙØ©Ù‹",
                translation: "And of His signs is that He created for you from yourselves mates that you may find tranquility in them; and He placed between you affection and mercy.",
                context: "Allah created spouses to bring tranquility, affection, and mercy to our lives. This is the foundation of a healthy family. When family members treat each other with love and compassion, they create a peaceful home environment that nurtures spiritual growth and emotional well-being.",
                topic: "Family Unity",
                source: "Family & Daily Life",
                category: "Marriage",
                keywords: ["family", "marriage", "tranquility", "affection", "mercy", "spouses", "love", "peace", "home", "spiritual growth", "emotional well-being"]
            },
            {
                reference: "Parent-Child Relations - Al-Isra 17:23-24",
                arabic: "ÙˆÙÙ‚ÙØ¶ÙÙ‰ Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø£ÙÙ„ÙÙ‘Ø§ ØªÙØ¹Ù’Ø¨ÙØ¯ÙÙˆØ§ Ø¥ÙÙ„ÙÙ‘Ø§ Ø¥ÙÙŠÙÙ‘Ø§Ù‡Ù ÙˆÙØ¨ÙØ§Ù„Ù’ÙˆÙØ§Ù„ÙØ¯ÙÙŠÙ’Ù†Ù Ø¥ÙØ­Ù’Ø³ÙØ§Ù†Ù‹Ø§",
                translation: "And your Lord has decreed that you not worship except Him, and to parents, good treatment.",
                context: "Islam emphasizes treating parents with kindness, respect, and care. This includes speaking gently to them, helping them in their daily needs, and never showing impatience or disrespect. The Prophet (PBUH) said that serving parents is one of the most beloved acts to Allah.",
                topic: "Parent-Child Relations",
                source: "Family & Daily Life",
                category: "Family",
                keywords: ["parents", "children", "respect", "kindness", "care", "help", "patience", "service", "allah", "prophet", "family"]
            },
            {
                reference: "Daily Life - Al-Baqarah 2:168",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù ÙƒÙÙ„ÙÙˆØ§ Ù…ÙÙ…ÙÙ‘Ø§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Ø­ÙÙ„ÙØ§Ù„Ù‹Ø§ Ø·ÙÙŠÙÙ‘Ø¨Ù‹Ø§",
                translation: "O mankind, eat from whatever is on earth [that is] lawful and good.",
                context: "Islam teaches us to consume only what is halal (permissible) and tayyib (good/wholesome) in our daily lives. This applies to food, entertainment, relationships, and all aspects of life. Making halal choices ensures our actions are blessed and brings us closer to Allah.",
                topic: "Daily Life",
                source: "Family & Daily Life",
                category: "Daily Living",
                keywords: ["daily life", "food", "halal", "tayyib", "permissible", "wholesome", "consumption", "entertainment", "relationships", "blessed", "allah"]
            },
            {
                reference: "Moral Boundaries - Al-Isra 17:32",
                arabic: "ÙˆÙÙ„ÙØ§ ØªÙÙ‚Ù’Ø±ÙØ¨ÙÙˆØ§ Ø§Ù„Ø²ÙÙ‘Ù†ÙØ§ Û– Ø¥ÙÙ†ÙÙ‘Ù‡Ù ÙƒÙØ§Ù†Ù ÙÙØ§Ø­ÙØ´ÙØ©Ù‹ ÙˆÙØ³ÙØ§Ø¡Ù Ø³ÙØ¨ÙÙŠÙ„Ù‹Ø§",
                translation: "And do not approach unlawful sexual intercourse. Indeed, it is an immorality and an evil way.",
                context: "Islam provides clear guidance on maintaining moral boundaries in daily life and relationships. This includes proper conduct between men and women, avoiding inappropriate interactions, and preserving the sanctity of family relationships. These boundaries protect society and maintain moral standards.",
                topic: "Moral Boundaries",
                source: "Family & Daily Life",
                category: "Daily Living",
                keywords: ["moral boundaries", "relationships", "conduct", "men", "women", "interactions", "sanctity", "family", "society", "standards", "protection"]
            },
            {
                reference: "Family Communication - Al-Hujurat 49:11",
                arabic: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ù„ÙØ§ ÙŠÙØ³Ù’Ø®ÙØ±Ù’ Ù‚ÙÙˆÙ’Ù…ÙŒ Ù…ÙÙ‘Ù† Ù‚ÙÙˆÙ’Ù…Ù",
                translation: "O you who have believed, let not a people ridicule [another] people.",
                context: "Good family communication is built on respect, kindness, and avoiding hurtful speech. This includes not mocking others, using gentle words, listening attentively, and resolving conflicts peacefully. The Prophet (PBUH) taught that kind words are a form of charity.",
                topic: "Family Communication",
                source: "Family & Daily Life",
                category: "Communication",
                keywords: ["family", "communication", "respect", "kindness", "gentle", "listening", "conflicts", "peaceful", "charity", "prophet", "guidance"]
            },
            {
                reference: "Family Responsibilities - Al-Baqarah 2:233",
                arabic: "ÙˆÙØ¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙˆÙ’Ù„ÙÙˆØ¯Ù Ù„ÙÙ‡Ù Ø±ÙØ²Ù’Ù‚ÙÙ‡ÙÙ†ÙÙ‘ ÙˆÙÙƒÙØ³Ù’ÙˆÙØªÙÙ‡ÙÙ†ÙÙ‘ Ø¨ÙØ§Ù„Ù’Ù…ÙØ¹Ù’Ø±ÙÙˆÙÙ",
                translation: "Upon the father is the mothers' provision and their clothing according to what is acceptable.",
                context: "Islam clearly defines family responsibilities. Fathers are responsible for providing financial support, while mothers are primarily responsible for nurturing and raising children. Both parents share the responsibility of providing emotional support, education, and Islamic guidance to their children.",
                topic: "Family Responsibilities",
                source: "Family & Daily Life",
                category: "Responsibilities",
                keywords: ["family", "responsibilities", "fathers", "mothers", "financial", "nurturing", "raising", "children", "emotional", "education", "islamic guidance"]
            },
            {
                reference: "Family Time - Al-Ahzab 33:21",
                arabic: "Ù„ÙÙ‚ÙØ¯Ù’ ÙƒÙØ§Ù†Ù Ù„ÙÙƒÙÙ…Ù’ ÙÙÙŠ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ³Ù’ÙˆÙØ©ÙŒ Ø­ÙØ³ÙÙ†ÙØ©ÙŒ",
                translation: "There has certainly been for you in the Messenger of Allah an excellent pattern.",
                context: "The Prophet (PBUH) showed us how to balance family time with other responsibilities. He spent quality time with his family, played with children, helped with household chores, and maintained strong family bonds. This teaches us that family should always be a priority in our busy lives.",
                topic: "Family Time",
                source: "Family & Daily Life",
                category: "Time Management",
                keywords: ["family time", "balance", "responsibilities", "quality time", "children", "household", "chores", "bonds", "priority", "busy lives", "prophet"]
            },
            {
                reference: "Family Education - Al-Alaq 96:1",
                arabic: "Ø§Ù‚Ù’Ø±ÙØ£Ù’ Ø¨ÙØ§Ø³Ù’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù",
                translation: "Read in the name of your Lord who created.",
                context: "Education is fundamental in Islam, and families have a responsibility to ensure their children receive both Islamic and worldly education. This includes teaching Quran, Hadith, Islamic values, as well as practical skills needed for daily life. Knowledge empowers families and strengthens communities.",
                topic: "Family Education",
                source: "Family & Daily Life",
                category: "Education",
                keywords: ["family", "education", "islamic", "worldly", "quran", "hadith", "values", "practical skills", "daily life", "knowledge", "empowerment", "communities"]
            },
            {
                reference: "Family Health - Al-Baqarah 2:195",
                arabic: "ÙˆÙÙ„ÙØ§ ØªÙÙ„Ù’Ù‚ÙÙˆØ§ Ø¨ÙØ£ÙÙŠÙ’Ø¯ÙÙŠÙƒÙÙ…Ù’ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„ØªÙÙ‘Ù‡Ù’Ù„ÙÙƒÙØ©Ù",
                translation: "And do not throw yourselves into destruction.",
                context: "Taking care of family health is an Islamic duty. This includes maintaining good hygiene, eating nutritious food, exercising regularly, getting adequate sleep, and seeking medical care when needed. A healthy family is better able to serve Allah and contribute to society.",
                topic: "Family Health",
                source: "Family & Daily Life",
                category: "Health",
                keywords: ["family", "health", "hygiene", "nutrition", "exercise", "sleep", "medical care", "duty", "serve allah", "society", "well-being"]
            }
        ];
        
        // Enhanced Auto Wisdom with Categories
        const autoWisdom = [
            {
                text: "The best of you are those who are best to their families.",
                reference: "Sahih Bukhari",
                category: "Family"
            },
            {
                text: "Seek knowledge from the cradle to the grave.",
                reference: "Hadith",
                category: "Knowledge"
            },
            {
                text: "Cleanliness is half of faith.",
                reference: "Sahih Muslim",
                category: "Hygiene"
            },
            {
                text: "The strong person is not the one who can wrestle someone else down. The strong person is the one who can control himself when he is angry.",
                reference: "Sahih Bukhari",
                category: "Character"
            },
            {
                text: "Whoever believes in Allah and the Last Day, let him speak good or remain silent.",
                reference: "Sahih Bukhari",
                category: "Speech"
            }
        ];
        
        // Welcome system
        let welcomeTimer;
        
        function startWelcomeSequence() {
            // Show bot message after 30 seconds
            welcomeTimer = setTimeout(() => {
                document.getElementById('botMessage').style.display = 'block';
                showRandomQuranQuote();
            }, 30000);
        }
        
        function showRandomQuranQuote() {
            const quotes = [
                {
                    text: "Indeed, Allah is with the patient.",
                    reference: "Al-Baqarah 2:153"
                },
                {
                    text: "And We have not sent you, [O Muhammad], except as a mercy to the worlds.",
                    reference: "Al-Anbiya 21:107"
                },
                {
                    text: "Verily, in the remembrance of Allah do hearts find rest.",
                    reference: "Ar-Ra'd 13:28"
                },
                {
                    text: "Allah does not burden a soul beyond that it can bear.",
                    reference: "Al-Baqarah 2:286"
                },
                {
                    text: "Indeed, Allah is Forgiving and Merciful.",
                    reference: "Al-Baqarah 2:199"
                }
            ];
            
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('quranQuote').innerHTML = `
                "${randomQuote.text}"<br>
                <small>- ${randomQuote.reference}</small>
            `;
        }
        
        // Initialize welcome sequence
        document.addEventListener('DOMContentLoaded', function() {
            startWelcomeSequence();
            
            // Show search section when user starts typing
            document.getElementById('searchInput').addEventListener('focus', function() {
                clearTimeout(welcomeTimer);
                document.getElementById('searchSection').classList.add('show');
            });
            
            // Add touch event handling for mobile devices
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                // Get the page name from the onclick attribute
                const onclick = item.getAttribute('onclick');
                const pageMatch = onclick.match(/goToPage\('([^']+)'\)/);
                const pageName = pageMatch ? pageMatch[1] : null;
                
                if (pageName) {
                    // Add touch events for mobile
                    item.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(0.95)';
                        this.style.opacity = '0.8';
                    });
                    
                    item.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(1)';
                        this.style.opacity = '1';
                        // Navigate to the page
                        goToPage(pageName);
                    });
                    
                    // Ensure click events work on mobile
                    item.addEventListener('click', function(e) {
                        e.preventDefault();
                        goToPage(pageName);
                    });
                    
                    // Add debugging for mobile
                    console.log('Menu item configured for:', pageName);
                }
            });

            // Bottom navigation tab functionality
            const navTabs = document.querySelectorAll('.nav-tab');
            
            navTabs.forEach(tab => {
                // Add click animation
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    navTabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Add ripple effect
                    const ripple = document.createElement('div');
                    ripple.style.position = 'absolute';
                    ripple.style.borderRadius = '50%';
                    ripple.style.background = 'rgba(30, 144, 255, 0.6)';
                    ripple.style.transform = 'scale(0)';
                    ripple.style.animation = 'ripple 0.6s linear';
                    ripple.style.left = '50%';
                    ripple.style.top = '50%';
                    ripple.style.width = '20px';
                    ripple.style.height = '20px';
                    ripple.style.marginLeft = '-10px';
                    ripple.style.marginTop = '-10px';
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });

                // Add hover sound effect (optional)
                tab.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.05)';
                });

                tab.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });
        
        // AI-Powered Islamic Knowledge System
        class IslamicAI {
            constructor() {
                this.currentSource = 'all';
                this.searchHistory = [];
            }
            
            searchWithSemantics(query, source = 'all') {
                const results = [];
                const tokens = this.tokenizeQuery(query.toLowerCase());
                
                // Search in all databases based on source filter
                if (source === 'all' || source === 'quran') {
                    Object.values(islamicDatabase).forEach(topic => {
                        topic.forEach(verse => {
                            const relevance = this.calculateRelevance(verse, tokens);
                            if (relevance > 0) {
                                results.push({ ...verse, relevance, matchedTerms: this.findMatchedTerms(verse, tokens) });
                            }
                        });
                    });
                }
                
                if (source === 'all' || source === 'hadith') {
                    hadithDatabase.forEach(hadith => {
                        const relevance = this.calculateRelevance(hadith, tokens);
                        if (relevance > 0) {
                            results.push({ ...hadith, relevance, matchedTerms: this.findMatchedTerms(hadith, tokens) });
                        }
                    });
                }
                
                if (source === 'all' || source === 'fiqh') {
                    fiqhDatabase.forEach(fiqh => {
                        const relevance = this.calculateRelevance(fiqh, tokens);
                        if (relevance > 0) {
                            results.push({ ...fiqh, relevance, matchedTerms: this.findMatchedTerms(fiqh, tokens) });
                        }
                    });
                }
                
                // Search in New Muslim database
                if (source === 'all' || source === 'new-muslim') {
                    newMuslimDatabase.forEach(item => {
                        const relevance = this.calculateRelevance(item, tokens);
                        if (relevance > 0) {
                            results.push({ ...item, relevance, matchedTerms: this.findMatchedTerms(item, tokens) });
                        }
                    });
                }
                
                // Search in What is Islam database
                if (source === 'all' || source === 'what-is-islam') {
                    whatIsIslamDatabase.forEach(item => {
                        const relevance = this.calculateRelevance(item, tokens);
                        if (relevance > 0) {
                            results.push({ ...item, relevance, matchedTerms: this.findMatchedTerms(item, tokens) });
                        }
                    });
                }
                
                // Search in Five Pillars database
                if (source === 'all' || source === 'five-pillars') {
                    fivePillarsDatabase.forEach(item => {
                        const relevance = this.calculateRelevance(item, tokens);
                        if (relevance > 0) {
                            results.push({ ...item, relevance, matchedTerms: this.findMatchedTerms(item, tokens) });
                        }
                    });
                }
                
                // Search in Sunnah database
                if (source === 'all' || source === 'sunnah') {
                    sunnahDatabase.forEach(item => {
                        const relevance = this.calculateRelevance(item, tokens);
                        if (relevance > 0) {
                            results.push({ ...item, relevance, matchedTerms: this.findMatchedTerms(item, tokens) });
                        }
                    });
                }
                
                // Search in Family and Daily Life database
                if (source === 'all' || source === 'family-daily-life') {
                    familyDailyLifeDatabase.forEach(item => {
                        const relevance = this.calculateRelevance(item, tokens);
                        if (relevance > 0) {
                            results.push({ ...item, relevance, matchedTerms: this.findMatchedTerms(item, tokens) });
                        }
                    });
                }
                
                // Sort by relevance and return top results
                return results.sort((a, b) => b.relevance - a.relevance).slice(0, 20);
            }
            
            tokenizeQuery(query) {
                return query.split(/\s+/).filter(token => token.length > 2);
            }
            
            stemWord(word) {
                // Simple stemming for common Islamic terms
                const stems = {
                    'pray': ['praying', 'prayed', 'prayers'],
                    'prayer': ['prayers', 'praying'],
                    'allah': ['god', 'divine'],
                    'islam': ['islamic', 'muslim'],
                    'quran': ['quranic', 'koran'],
                    'hadith': ['hadiths', 'ahadith'],
                    'mercy': ['merciful', 'mercifulness'],
                    'patience': ['patient', 'patiently'],
                    'knowledge': ['learn', 'learning', 'educated'],
                    'family': ['familial', 'families'],
                    'inheritance': ['inherit', 'inherited'],
                    'business': ['commercial', 'trade', 'trading'],
                    'wudu': ['ablution', 'clean', 'cleanliness'],
                    'rakat': ['rakats', 'rakaat', 'prayer unit'],
                    'surah': ['surahs', 'chapter', 'quran chapter'],
                    'shahada': ['declaration', 'faith', 'testimony'],
                    'fajr': ['dawn', 'morning prayer'],
                    'dhuhr': ['noon', 'midday prayer'],
                    'asr': ['afternoon', 'late afternoon prayer'],
                    'maghrib': ['sunset', 'evening prayer'],
                    'isha': ['night', 'night prayer'],
                    'new muslim': ['convert', 'revert', 'beginner', 'learning'],
                    'what is islam': ['islam', 'muslim', 'religion', 'faith', 'belief'],
                    'violence': ['violent', 'terrorism', 'terrorist', 'aggression'],
                    'women': ['woman', 'female', 'girl', 'lady'],
                    'tolerance': ['tolerant', 'acceptance', 'respect', 'coexistence'],
                    'science': ['scientific', 'research', 'technology', 'innovation'],
                    'democracy': ['democratic', 'freedom', 'rights', 'equality'],
                    'modern': ['contemporary', 'current', 'today', 'present'],
                    'human rights': ['rights', 'dignity', 'freedom', 'justice'],
                    'education': ['learning', 'knowledge', 'study', 'school'],
                    'charity': ['helping', 'giving', 'donation', 'assistance'],
                    'five pillars': ['pillars', 'shahada', 'salah', 'zakat', 'sawm', 'hajj', 'foundation'],
                    'sunnah': ['prophet', 'muhammad', 'teachings', 'actions', 'sayings', 'daily', 'practices'],
                    'shahada': ['declaration', 'faith', 'testimony', 'first pillar'],
                    'salah': ['prayer', 'prayers', 'worship', 'second pillar'],
                    'zakat': ['charity', 'obligatory', '2.5%', 'third pillar'],
                    'sawm': ['fasting', 'ramadan', 'fourth pillar'],
                    'hajj': ['pilgrimage', 'mecca', 'kaaba', 'fifth pillar']
                };
                
                for (const [stem, variations] of Object.entries(stems)) {
                    if (variations.includes(word) || word.startsWith(stem)) {
                        return stem;
                    }
                }
                return word;
            }
            
            calculateRelevance(item, tokens) {
                let score = 0;
                const allText = `${item.translation} ${item.context} ${item.topic} ${item.keywords?.join(' ') || ''}`.toLowerCase();
                
                tokens.forEach(token => {
                    const stemmedToken = this.stemWord(token);
                    
                    // Exact matches get highest score
                    if (allText.includes(token)) score += 10;
                    if (allText.includes(stemmedToken)) score += 8;
                    
                    // Keyword matches
                    if (item.keywords) {
                        item.keywords.forEach(keyword => {
                            if (keyword.includes(token) || keyword.includes(stemmedToken)) score += 15;
                        });
                    }
                    
                    // Topic matches
                    if (item.topic.toLowerCase().includes(token) || item.topic.toLowerCase().includes(stemmedToken)) score += 12;
                    
                    // Context matches
                    if (item.context.toLowerCase().includes(token) || item.context.toLowerCase().includes(stemmedToken)) score += 5;
                });
                
                return score;
            }
            
            findMatchedTerms(item, tokens) {
                const matched = [];
                tokens.forEach(token => {
                    const stemmedToken = this.stemWord(token);
                    if (item.keywords && item.keywords.some(keyword => 
                        keyword.includes(token) || keyword.includes(stemmedToken))) {
                        matched.push(token);
                    }
                });
                return [...new Set(matched)];
            }
            
            generateResponse(query, results) {
                if (results.length === 0) {
                    return {
                        summary: "I couldn't find specific information about that query, but here are some related topics you might be interested in:",
                        suggestions: this.generateSuggestions(query),
                        relatedTopics: this.findRelatedTopics(query)
                    };
                }
                
                const topResult = results[0];
                return {
                    summary: `I found ${results.length} relevant results about "${query}". The most relevant is about ${topResult.topic.toLowerCase()}.`,
                    suggestions: this.generateSuggestions(query, results),
                    relatedTopics: this.findRelatedTopics(query, results)
                };
            }
            
            generateSuggestions(query, results = []) {
                const suggestions = [];
                
                // Add topic-based suggestions
                if (results.length > 0) {
                    const topics = [...new Set(results.map(r => r.topic))];
                    topics.slice(0, 3).forEach(topic => {
                        suggestions.push(`Learn more about ${topic}`);
                    });
                }
                
                // Add general Islamic topics
                const generalTopics = ['prayer', 'mercy', 'patience', 'family', 'knowledge', 'business'];
                generalTopics.forEach(topic => {
                    if (!query.toLowerCase().includes(topic)) {
                        suggestions.push(`What does Islam say about ${topic}?`);
                    }
                });
                
                return suggestions.slice(0, 5);
            }
            
            findRelatedTopics(query, results = []) {
                const related = [];
                const queryLower = query.toLowerCase();
                
                if (queryLower.includes('prayer') || queryLower.includes('salah')) {
                    related.push('Prayer Times', 'Prayer Benefits', 'Prayer Etiquette');
                }
                if (queryLower.includes('family') || queryLower.includes('marriage')) {
                    related.push('Parent-Child Relations', 'Marriage in Islam', 'Family Values');
                }
                if (queryLower.includes('business') || queryLower.includes('trade')) {
                    related.push('Islamic Finance', 'Business Ethics', 'Halal Business');
                }
                if (queryLower.includes('inheritance') || queryLower.includes('fiqh')) {
                    related.push('Islamic Law', 'Family Law', 'Financial Law');
                }
                
                return related.slice(0, 5);
            }
        }
        
        // Strict Guardrails and Safety System
        const safetyGuardrails = {
            // Never allow these topics or responses
            forbiddenTopics: [
                'violence', 'terrorism', 'extremism', 'hate', 'discrimination', 
                'political controversy', 'sectarian division', 'offensive language',
                'inappropriate content', 'harmful advice', 'medical advice',
                'financial advice', 'legal advice', 'personal attacks'
            ],
            
            // Always maintain these qualities
            requiredQualities: [
                'polite', 'courteous', 'respectful', 'kind', 'patient',
                'helpful', 'accurate', 'balanced', 'educational', 'encouraging'
            ],
            
            // Response tone requirements
            responseTone: {
                always: ['respectful', 'kind', 'patient', 'helpful', 'accurate'],
                never: ['angry', 'rude', 'impatient', 'judgmental', 'controversial']
            },
            
            // Content validation
            validateResponse: function(response) {
                // Check for forbidden content
                for (let topic of this.forbiddenTopics) {
                    if (response.toLowerCase().includes(topic)) {
                        return false;
                    }
                }
                
                // Check for required qualities
                let hasRequiredQualities = true;
                for (let quality of this.requiredQualities) {
                    if (!response.toLowerCase().includes(quality) && !this.isPoliteResponse(response)) {
                        hasRequiredQualities = false;
                        break;
                    }
                }
                
                return hasRequiredQualities;
            },
            
            // Ensure politeness
            isPoliteResponse: function(response) {
                const politeWords = [
                    'please', 'thank you', 'kindly', 'respectfully', 'gently',
                    'with respect', 'may Allah guide', 'insha Allah', 'masha Allah',
                    'jazakAllah', 'barakAllah', 'salam', 'peace', 'blessings'
                ];
                
                return politeWords.some(word => response.toLowerCase().includes(word));
            },
            
            // Safety check for all responses
            safetyCheck: function(query, response) {
                // Never respond to harmful queries
                if (this.isHarmfulQuery(query)) {
                    return {
                        safe: false,
                        message: "I apologize, but I cannot provide information on that topic. I'm designed to help with Islamic knowledge, guidance, and positive learning. How may I assist you with Islamic teachings, Quran, Hadith, or general Islamic questions?"
                    };
                }
                
                // Ensure response is appropriate
                if (!this.validateResponse(response)) {
                    return {
                        safe: false,
                        message: "I apologize, but I need to provide a more appropriate response. Let me help you with accurate Islamic information in a respectful manner."
                    };
                }
                
                return { safe: true, response: response };
            },
            
            // Check if query is harmful
            isHarmfulQuery: function(query) {
                const harmfulPatterns = [
                    /harm|hurt|kill|attack|violence/i,
                    /hate|discriminate|offend/i,
                    /political|controversy|division/i,
                    /inappropriate|offensive/i
                ];
                
                return harmfulPatterns.some(pattern => pattern.test(query));
            }
        };
        
        // Initialize AI system with strict guardrails
        const islamicAI = new IslamicAI();
        
        // Page Navigation System
        function goToPage(page) {
            switch(page) {
                case 'prayer':
                    window.location.href = 'prayer-guide.html';
                    break;
                case 'daily-message':
                    window.location.href = 'daily-message.html';
                    break;
                case 'chat':
                    window.location.href = 'deenbot.html';
                    break;
                case 'five-pillars':
                    window.location.href = 'five-pillars.html';
                    break;
                case 'sunnah':
                    window.location.href = 'sunnah.html';
                    break;
                case 'new-muslim':
                    window.location.href = 'new-muslim.html';
                    break;
                case 'dedication':
                    window.location.href = 'dedication.html';
                    break;
                            case 'hadith-collections-hub':
                    window.location.href = 'hadith-collections-hub.html';
                    break;
                case 'recommended-surahs':
                    window.location.href = 'recommended-surahs.html';
                    break;
                default:
                    console.log('Page not found');
            }
        }
        
        // Main search function
        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                showNotification('Please enter a search query', 'error');
                return;
            }
            
            // Enhanced search with fuzzy matching and partial search
            const results = enhancedSearch(query, islamicAI.currentSource);
            displayResults(query, results);
            
            // Add to search history
            islamicAI.searchHistory.push(query);
        }
        
        // Enhanced search function with fuzzy matching
        function enhancedSearch(query, source) {
            const queryLower = query.toLowerCase();
            const tokens = queryLower.split(/\s+/).filter(token => token.length > 1);
            const results = [];
            
            // Search in all databases based on source
            if (source === 'all' || source === 'quran') {
                islamicDatabase.quran?.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'hadith') {
                hadithDatabase.forEach(hadith => {
                    const relevance = calculateEnhancedRelevance(hadith, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...hadith, relevance, matchedTerms: findMatchedTerms(hadith, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'fiqh') {
                fiqhDatabase.forEach(fiqh => {
                    const relevance = calculateEnhancedRelevance(fiqh, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...fiqh, relevance, matchedTerms: findMatchedTerms(fiqh, tokens) });
                    }
                });
            }
            
            // Search in other databases
            if (source === 'all' || source === 'new-muslim') {
                newMuslimDatabase.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'what-is-islam') {
                whatIsIslamDatabase.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'five-pillars') {
                fivePillarsDatabase.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'sunnah') {
                sunnahDatabase.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            if (source === 'all' || source === 'family-daily-life') {
                familyDailyLifeDatabase.forEach(item => {
                    const relevance = calculateEnhancedRelevance(item, tokens, queryLower);
                    if (relevance > 0) {
                        results.push({ ...item, relevance, matchedTerms: findMatchedTerms(item, tokens) });
                    }
                });
            }
            
            // Sort by relevance and return top results
            return results.sort((a, b) => b.relevance - a.relevance).slice(0, 25);
        }
        
        // Enhanced relevance calculation with fuzzy matching
        function calculateEnhancedRelevance(item, tokens, queryLower) {
            let score = 0;
            const allText = `${item.translation || ''} ${item.context || ''} ${item.topic || ''} ${item.keywords?.join(' ') || ''} ${item.arabic || ''}`.toLowerCase();
            
            // Exact query match (highest score)
            if (allText.includes(queryLower)) score += 50;
            
            // Partial word matches
            tokens.forEach(token => {
                if (token.length > 2) {
                    // Exact token match
                    if (allText.includes(token)) score += 20;
                    
                    // Partial token match (fuzzy)
                    const partialMatches = allText.split(' ').filter(word => 
                        word.includes(token) || token.includes(word)
                    );
                    score += partialMatches.length * 5;
                    
                    // Stemmed matches
                    const stemmedToken = stemWord(token);
                    if (allText.includes(stemmedToken)) score += 15;
                }
            });
            
            // Keyword matches
            if (item.keywords) {
                item.keywords.forEach(keyword => {
                    if (queryLower.includes(keyword.toLowerCase()) || keyword.toLowerCase().includes(queryLower)) {
                        score += 25;
                    }
                    tokens.forEach(token => {
                        if (keyword.toLowerCase().includes(token) || token.includes(keyword.toLowerCase())) {
                            score += 20;
                        }
                    });
                });
            }
            
            // Topic matches
            if (item.topic && queryLower.includes(item.topic.toLowerCase())) score += 30;
            
            // Context matches
            if (item.context && queryLower.includes(item.context.toLowerCase())) score += 15;
            
            return score;
        }
        
        // Enhanced word stemming for Islamic terms
        function stemWord(word) {
            const stems = {
                'pray': ['praying', 'prayed', 'prayers', 'prayer'],
                'prayer': ['prayers', 'praying', 'prayed'],
                'allah': ['god', 'divine', 'lord'],
                'islam': ['islamic', 'muslim', 'islamic'],
                'quran': ['quranic', 'koran', 'quran'],
                'hadith': ['hadiths', 'ahadith', 'hadith'],
                'mercy': ['merciful', 'mercifulness', 'mercy'],
                'patience': ['patient', 'patiently', 'patience'],
                'knowledge': ['learn', 'learning', 'educated', 'knowledge'],
                'family': ['familial', 'families', 'family'],
                'inheritance': ['inherit', 'inherited', 'inheritance'],
                'business': ['commercial', 'trade', 'trading', 'business'],
                'wudu': ['ablution', 'clean', 'cleanliness', 'wudu'],
                'rakat': ['rakats', 'rakaat', 'prayer unit', 'rakat'],
                'surah': ['surahs', 'chapter', 'quran chapter', 'surah'],
                'shahada': ['declaration', 'faith', 'testimony', 'shahada'],
                'fajr': ['dawn', 'morning prayer', 'fajr'],
                'dhuhr': ['noon', 'midday prayer', 'dhuhr'],
                'asr': ['afternoon', 'late afternoon prayer', 'asr'],
                'maghrib': ['sunset', 'evening prayer', 'maghrib'],
                'isha': ['night', 'night prayer', 'isha'],
                'new muslim': ['convert', 'revert', 'beginner', 'learning', 'new muslim'],
                'what is islam': ['islam', 'muslim', 'religion', 'faith', 'belief', 'what is islam'],
                'violence': ['violent', 'terrorism', 'terrorist', 'aggression', 'violence'],
                'women': ['woman', 'female', 'girl', 'lady', 'women'],
                'tolerance': ['tolerant', 'acceptance', 'respect', 'coexistence', 'tolerance'],
                'science': ['scientific', 'research', 'technology', 'innovation', 'science'],
                'democracy': ['democratic', 'freedom', 'rights', 'equality', 'democracy'],
                'modern': ['contemporary', 'current', 'today', 'present', 'modern'],
                'human rights': ['rights', 'dignity', 'freedom', 'justice', 'human rights'],
                'education': ['learning', 'knowledge', 'study', 'school', 'education'],
                'charity': ['helping', 'giving', 'donation', 'assistance', 'charity'],
                'five pillars': ['pillars', 'shahada', 'salah', 'zakat', 'sawm', 'hajj', 'foundation', 'five pillars'],
                'sunnah': ['prophet', 'muhammad', 'teachings', 'actions', 'sayings', 'daily', 'practices', 'sunnah'],
                'shahada': ['declaration', 'faith', 'testimony', 'first pillar', 'shahada'],
                'salah': ['prayer', 'prayers', 'worship', 'second pillar', 'salah'],
                'zakat': ['charity', 'obligatory', '2.5%', 'third pillar', 'zakat'],
                'sawm': ['fasting', 'ramadan', 'fourth pillar', 'sawm'],
                'hajj': ['pilgrimage', 'mecca', 'kaaba', 'fifth pillar', 'hajj'],
                'mercy': ['mercy', 'merciful', 'compassion', 'kindness'],
                'patience': ['patience', 'patient', 'endurance', 'perseverance'],
                'forgiveness': ['forgiveness', 'forgive', 'pardon', 'mercy'],
                'kindness': ['kindness', 'kind', 'gentle', 'good'],
                'justice': ['justice', 'just', 'fair', 'equality'],
                'peace': ['peace', 'peaceful', 'tranquility', 'calm'],
                'love': ['love', 'loving', 'affection', 'care'],
                'hope': ['hope', 'hopeful', 'optimism', 'faith'],
                'gratitude': ['gratitude', 'thankful', 'thanks', 'appreciation'],
                'humility': ['humility', 'humble', 'modest', 'modesty'],
                'honesty': ['honesty', 'honest', 'truthful', 'truth'],
                'generosity': ['generosity', 'generous', 'giving', 'charitable'],
                'wisdom': ['wisdom', 'wise', 'knowledge', 'understanding'],
                'strength': ['strength', 'strong', 'power', 'might'],
                'courage': ['courage', 'brave', 'bold', 'fearless'],
                'faith': ['faith', 'belief', 'trust', 'confidence'],
                'prayer': ['prayer', 'worship', 'devotion', 'salah'],
                'fasting': ['fasting', 'fast', 'abstinence', 'sawm'],
                'charity': ['charity', 'giving', 'donation', 'zakat'],
                'pilgrimage': ['pilgrimage', 'hajj', 'journey', 'travel'],
                'family': ['family', 'familial', 'household', 'home'],
                'marriage': ['marriage', 'wedding', 'matrimony', 'nikah'],
                'children': ['children', 'kids', 'offspring', 'descendants'],
                'parents': ['parents', 'father', 'mother', 'guardian'],
                'community': ['community', 'society', 'ummah', 'group'],
                'friendship': ['friendship', 'friend', 'companion', 'ally'],
                'neighbor': ['neighbor', 'neighbour', 'nearby', 'local'],
                'business': ['business', 'trade', 'commerce', 'work'],
                'money': ['money', 'wealth', 'riches', 'finance'],
                'work': ['work', 'labor', 'employment', 'job'],
                'education': ['education', 'learning', 'study', 'school'],
                'health': ['health', 'healthy', 'wellness', 'medical'],
                'food': ['food', 'eating', 'nutrition', 'diet'],
                'clothing': ['clothing', 'dress', 'garment', 'attire'],
                'home': ['home', 'house', 'residence', 'dwelling'],
                'travel': ['travel', 'journey', 'trip', 'voyage'],
                'time': ['time', 'temporal', 'moment', 'period'],
                'nature': ['nature', 'natural', 'environment', 'creation'],
                'animals': ['animals', 'creatures', 'beasts', 'wildlife'],
                'plants': ['plants', 'vegetation', 'flora', 'growth'],
                'water': ['water', 'liquid', 'drink', 'thirst'],
                'fire': ['fire', 'flame', 'heat', 'burn'],
                'earth': ['earth', 'ground', 'soil', 'land'],
                'sky': ['sky', 'heaven', 'celestial', 'atmospheric'],
                'sun': ['sun', 'solar', 'daylight', 'bright'],
                'moon': ['moon', 'lunar', 'night', 'illumination'],
                'stars': ['stars', 'stellar', 'astronomical', 'celestial'],
                'day': ['day', 'daily', 'daylight', 'morning'],
                'night': ['night', 'nocturnal', 'darkness', 'evening'],
                'morning': ['morning', 'dawn', 'sunrise', 'early'],
                'evening': ['evening', 'dusk', 'sunset', 'late'],
                'week': ['week', 'weekly', 'seven days', 'period'],
                'month': ['month', 'monthly', 'lunar', 'period'],
                'year': ['year', 'annual', 'yearly', 'time'],
                'season': ['season', 'seasonal', 'weather', 'climate'],
                'spring': ['spring', 'vernal', 'growth', 'renewal'],
                'summer': ['summer', 'warm', 'hot', 'season'],
                'autumn': ['autumn', 'fall', 'harvest', 'season'],
                'winter': ['winter', 'cold', 'frost', 'season'],
                'rain': ['rain', 'rainy', 'precipitation', 'water'],
                'snow': ['snow', 'snowy', 'frozen', 'winter'],
                'wind': ['wind', 'windy', 'breeze', 'air'],
                'storm': ['storm', 'stormy', 'tempest', 'weather'],
                'calm': ['calm', 'peaceful', 'tranquil', 'quiet'],
                'noise': ['noise', 'loud', 'sound', 'disturbance'],
                'silence': ['silence', 'quiet', 'still', 'peaceful'],
                'light': ['light', 'bright', 'illumination', 'radiance'],
                'dark': ['dark', 'darkness', 'shadow', 'obscure'],
                'color': ['color', 'colour', 'hue', 'shade'],
                'beauty': ['beauty', 'beautiful', 'attractive', 'lovely'],
                'ugly': ['ugly', 'unattractive', 'unsightly', 'hideous'],
                'big': ['big', 'large', 'huge', 'enormous'],
                'small': ['small', 'tiny', 'little', 'miniature'],
                'long': ['long', 'lengthy', 'extended', 'prolonged'],
                'short': ['short', 'brief', 'concise', 'abbreviated'],
                'wide': ['wide', 'broad', 'expansive', 'spacious'],
                'narrow': ['narrow', 'thin', 'slender', 'constricted'],
                'high': ['high', 'tall', 'elevated', 'lofty'],
                'low': ['low', 'short', 'depressed', 'sunken'],
                'deep': ['deep', 'profound', 'intense', 'thorough'],
                'shallow': ['shallow', 'superficial', 'surface', 'minor'],
                'fast': ['fast', 'quick', 'rapid', 'swift'],
                'slow': ['slow', 'gradual', 'leisurely', 'delayed'],
                'strong': ['strong', 'powerful', 'mighty', 'robust'],
                'weak': ['weak', 'feeble', 'fragile', 'delicate'],
                'hard': ['hard', 'difficult', 'challenging', 'tough'],
                'easy': ['easy', 'simple', 'effortless', 'straightforward'],
                'good': ['good', 'excellent', 'superior', 'positive'],
                'bad': ['bad', 'poor', 'inferior', 'negative'],
                'right': ['right', 'correct', 'proper', 'accurate'],
                'wrong': ['wrong', 'incorrect', 'improper', 'mistaken'],
                'true': ['true', 'truthful', 'honest', 'genuine'],
                'false': ['false', 'untrue', 'dishonest', 'fake'],
                'new': ['new', 'fresh', 'recent', 'modern'],
                'old': ['old', 'aged', 'ancient', 'elderly'],
                'young': ['young', 'youthful', 'juvenile', 'immature'],
                'mature': ['mature', 'grown', 'developed', 'adult'],
                'clean': ['clean', 'pure', 'hygienic', 'sanitary'],
                'dirty': ['dirty', 'filthy', 'soiled', 'contaminated'],
                'rich': ['rich', 'wealthy', 'affluent', 'prosperous'],
                'poor': ['poor', 'destitute', 'impoverished', 'needy'],
                'happy': ['happy', 'joyful', 'cheerful', 'content'],
                'sad': ['sad', 'sorrowful', 'melancholy', 'unhappy'],
                'angry': ['angry', 'furious', 'irate', 'enraged'],
                'calm': ['calm', 'peaceful', 'tranquil', 'serene'],
                'fear': ['fear', 'afraid', 'scared', 'terrified'],
                'courage': ['courage', 'brave', 'bold', 'fearless'],
                'love': ['love', 'affection', 'fondness', 'adoration'],
                'hate': ['hate', 'hatred', 'dislike', 'aversion'],
                'friend': ['friend', 'companion', 'ally', 'buddy'],
                'enemy': ['enemy', 'foe', 'adversary', 'opponent'],
                'help': ['help', 'assist', 'aid', 'support'],
                'hurt': ['hurt', 'harm', 'damage', 'injure'],
                'give': ['give', 'donate', 'contribute', 'offer'],
                'take': ['take', 'receive', 'accept', 'obtain'],
                'buy': ['buy', 'purchase', 'acquire', 'obtain'],
                'sell': ['sell', 'trade', 'exchange', 'market'],
                'come': ['come', 'arrive', 'approach', 'reach'],
                'go': ['go', 'leave', 'depart', 'travel'],
                'stay': ['stay', 'remain', 'linger', 'wait'],
                'move': ['move', 'travel', 'journey', 'proceed'],
                'stop': ['stop', 'halt', 'cease', 'end'],
                'start': ['start', 'begin', 'commence', 'initiate'],
                'finish': ['finish', 'complete', 'end', 'conclude'],
                'continue': ['continue', 'persist', 'endure', 'maintain'],
                'change': ['change', 'alter', 'modify', 'transform'],
                'keep': ['keep', 'maintain', 'preserve', 'retain'],
                'lose': ['lose', 'misplace', 'forfeit', 'surrender'],
                'find': ['find', 'discover', 'locate', 'uncover'],
                'hide': ['hide', 'conceal', 'cover', 'obscure'],
                'show': ['show', 'display', 'reveal', 'exhibit'],
                'tell': ['tell', 'inform', 'notify', 'announce'],
                'ask': ['ask', 'question', 'inquire', 'request'],
                'answer': ['answer', 'respond', 'reply', 'respond'],
                'listen': ['listen', 'hear', 'attend', 'heed'],
                'speak': ['speak', 'talk', 'communicate', 'express'],
                'read': ['read', 'study', 'peruse', 'examine'],
                'write': ['write', 'compose', 'create', 'record'],
                'learn': ['learn', 'study', 'acquire', 'gain'],
                'teach': ['teach', 'instruct', 'educate', 'guide'],
                'think': ['think', 'consider', 'reflect', 'contemplate'],
                'know': ['know', 'understand', 'comprehend', 'realize'],
                'believe': ['believe', 'trust', 'have faith', 'accept'],
                'doubt': ['doubt', 'question', 'suspect', 'uncertain'],
                'hope': ['hope', 'wish', 'desire', 'aspire'],
                'worry': ['worry', 'concern', 'anxiety', 'fear'],
                'plan': ['plan', 'prepare', 'organize', 'arrange'],
                'decide': ['decide', 'choose', 'determine', 'resolve'],
                'try': ['try', 'attempt', 'endeavor', 'strive'],
                'succeed': ['succeed', 'achieve', 'accomplish', 'prevail'],
                'fail': ['fail', 'lose', 'fall short', 'unsuccessful'],
                'win': ['win', 'victory', 'triumph', 'prevail'],
                'lose': ['lose', 'defeat', 'failure', 'loss'],
                'play': ['play', 'game', 'entertainment', 'recreation'],
                'work': ['work', 'labor', 'employment', 'job'],
                'rest': ['rest', 'relax', 'sleep', 'repose'],
                'sleep': ['sleep', 'slumber', 'rest', 'nap'],
                'wake': ['wake', 'awaken', 'arise', 'rise'],
                'eat': ['eat', 'consume', 'dine', 'feed'],
                'drink': ['drink', 'consume', 'imbibe', 'sip'],
                'cook': ['cook', 'prepare', 'make', 'create'],
                'clean': ['clean', 'wash', 'purify', 'sanitize'],
                'build': ['build', 'construct', 'create', 'make'],
                'destroy': ['destroy', 'demolish', 'ruin', 'wreck'],
                'create': ['create', 'make', 'form', 'produce'],
                'destroy': ['destroy', 'ruin', 'demolish', 'wreck'],
                'begin': ['begin', 'start', 'commence', 'initiate'],
                'end': ['end', 'finish', 'conclude', 'terminate'],
                'open': ['open', 'unlock', 'unseal', 'access'],
                'close': ['close', 'shut', 'seal', 'lock'],
                'enter': ['enter', 'go in', 'access', 'approach'],
                'exit': ['exit', 'leave', 'depart', 'go out'],
                'up': ['up', 'above', 'higher', 'elevated'],
                'down': ['down', 'below', 'lower', 'descend'],
                'in': ['in', 'inside', 'within', 'interior'],
                'out': ['out', 'outside', 'exterior', 'external'],
                'on': ['on', 'above', 'over', 'upon'],
                'off': ['off', 'away', 'distant', 'separate'],
                'near': ['near', 'close', 'proximate', 'adjacent'],
                'far': ['far', 'distant', 'remote', 'away'],
                'here': ['here', 'present', 'current', 'location'],
                'there': ['there', 'that place', 'location', 'position'],
                'now': ['now', 'present', 'current', 'immediate'],
                'then': ['then', 'at that time', 'subsequently', 'after'],
                'before': ['before', 'prior', 'earlier', 'preceding'],
                'after': ['after', 'subsequent', 'following', 'later'],
                'always': ['always', 'forever', 'eternally', 'perpetually'],
                'never': ['never', 'not ever', 'at no time', 'impossible'],
                'sometimes': ['sometimes', 'occasionally', 'periodically', 'intermittently'],
                'often': ['often', 'frequently', 'regularly', 'commonly'],
                'rarely': ['rarely', 'seldom', 'infrequently', 'uncommonly'],
                'quickly': ['quickly', 'fast', 'rapidly', 'swiftly'],
                'slowly': ['slowly', 'gradually', 'leisurely', 'deliberately'],
                'well': ['well', 'good', 'properly', 'adequately'],
                'badly': ['badly', 'poorly', 'inadequately', 'insufficiently'],
                'much': ['much', 'many', 'a lot', 'abundant'],
                'little': ['little', 'few', 'minimal', 'scant'],
                'more': ['more', 'additional', 'extra', 'increased'],
                'less': ['less', 'fewer', 'reduced', 'decreased'],
                'all': ['all', 'every', 'entire', 'complete'],
                'none': ['none', 'nothing', 'zero', 'empty'],
                'some': ['some', 'several', 'few', 'partial'],
                'many': ['many', 'numerous', 'multiple', 'various'],
                'few': ['few', 'several', 'some', 'limited'],
                'one': ['one', 'single', 'individual', 'unique'],
                'two': ['two', 'pair', 'couple', 'duo'],
                'three': ['three', 'triple', 'trio', 'trinity'],
                'first': ['first', 'initial', 'primary', 'beginning'],
                'second': ['second', 'secondary', 'next', 'following'],
                'last': ['last', 'final', 'ultimate', 'ending'],
                'next': ['next', 'following', 'subsequent', 'upcoming'],
                'previous': ['previous', 'prior', 'earlier', 'preceding'],
                'current': ['current', 'present', 'now', 'contemporary'],
                'future': ['future', 'upcoming', 'forthcoming', 'prospective'],
                'past': ['past', 'previous', 'former', 'historical'],
                'today': ['today', 'now', 'present', 'current'],
                'yesterday': ['yesterday', 'past', 'previous day', 'recent'],
                'tomorrow': ['tomorrow', 'future', 'next day', 'upcoming'],
                'morning': ['morning', 'dawn', 'sunrise', 'early'],
                'afternoon': ['afternoon', 'midday', 'noon', 'middle'],
                'evening': ['evening', 'dusk', 'sunset', 'late'],
                'night': ['night', 'darkness', 'nocturnal', 'evening'],
                'week': ['week', 'seven days', 'period', 'cycle'],
                'month': ['month', 'lunar', 'period', 'cycle'],
                'year': ['year', 'annual', 'yearly', 'cycle'],
                'always': ['always', 'forever', 'eternally', 'perpetually'],
                'never': ['never', 'not ever', 'at no time', 'impossible'],
                'sometimes': ['sometimes', 'occasionally', 'periodically', 'intermittently'],
                'often': ['often', 'frequently', 'regularly', 'commonly'],
                'rarely': ['rarely', 'seldom', 'infrequently', 'uncommonly'],
                'quickly': ['quickly', 'fast', 'rapidly', 'swiftly'],
                'slowly': ['slowly', 'gradually', 'leisurely', 'deliberately'],
                'well': ['well', 'good', 'properly', 'adequately'],
                'badly': ['badly', 'poorly', 'inadequately', 'insufficiently'],
                'much': ['much', 'many', 'a lot', 'abundant'],
                'little': ['little', 'few', 'minimal', 'scant'],
                'more': ['more', 'additional', 'extra', 'increased'],
                'less': ['less', 'fewer', 'reduced', 'decreased'],
                'all': ['all', 'every', 'entire', 'complete'],
                'none': ['none', 'nothing', 'zero', 'empty'],
                'some': ['some', 'several', 'few', 'partial'],
                'many': ['many', 'numerous', 'multiple', 'various'],
                'few': ['few', 'several', 'some', 'limited'],
                'one': ['one', 'single', 'individual', 'unique'],
                'two': ['two', 'pair', 'couple', 'duo'],
                'three': ['three', 'triple', 'trio', 'trinity'],
                'first': ['first', 'initial', 'primary', 'beginning'],
                'second': ['second', 'secondary', 'next', 'following'],
                'last': ['last', 'final', 'ultimate', 'ending'],
                'next': ['next', 'following', 'subsequent', 'upcoming'],
                'previous': ['previous', 'prior', 'earlier', 'preceding'],
                'current': ['current', 'present', 'now', 'contemporary'],
                'future': ['future', 'upcoming', 'forthcoming', 'prospective'],
                'past': ['past', 'previous', 'former', 'historical'],
                'today': ['today', 'now', 'present', 'current'],
                'yesterday': ['yesterday', 'past', 'previous day', 'recent'],
                'tomorrow': ['tomorrow', 'future', 'next day', 'upcoming'],
                'morning': ['morning', 'dawn', 'sunrise', 'early'],
                'afternoon': ['afternoon', 'midday', 'noon', 'middle'],
                'evening': ['evening', 'dusk', 'sunset', 'late'],
                'night': ['night', 'darkness', 'nocturnal', 'evening'],
                'week': ['week', 'seven days', 'period', 'cycle'],
                'month': ['month', 'lunar', 'period', 'cycle'],
                'year': ['year', 'annual', 'yearly', 'cycle']
            };
            
            for (const [stem, variations] of Object.entries(stems)) {
                if (variations.includes(word.toLowerCase()) || word.toLowerCase().startsWith(stem)) {
                    return stem;
                }
            }
            return word;
        }
        
        // Find matched terms for highlighting
        function findMatchedTerms(item, tokens) {
            const matched = [];
            tokens.forEach(token => {
                if (token.length > 2) {
                    const stemmedToken = stemWord(token);
                    if (item.keywords && item.keywords.some(keyword => 
                        keyword.toLowerCase().includes(token) || keyword.toLowerCase().includes(stemmedToken))) {
                        matched.push(token);
                    }
                }
            });
            return [...new Set(matched)];
        }
        
        function handleSearch(event) {
            if (event.key === "Enter") {
                performSearch();
            }
        }
        
        function setSource(source) {
            islamicAI.currentSource = source;
            // Update button states
            document.querySelectorAll('.source-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        function displayResults(query, results) {
            const resultsSection = document.getElementById('resultsSection');
            const resultsCount = document.getElementById('resultsCount');
            const verseResults = document.getElementById('verseResults');
            
            resultsSection.classList.add('show');
            
            if (results.length === 0) {
                resultsCount.innerHTML = 'No results found';
                const aiResponse = islamicAI.generateResponse(query, results);
                
                verseResults.innerHTML = `
                    <div class="no-results">
                        <h3>No Results Found</h3>
                        <p>I couldn't find specific information about "${query}", but here are some related topics:</p>
                        <div class="ai-summary">
                            <h3>AI Assistant Summary</h3>
                            <p>${aiResponse.summary}</p>
                            <div class="suggestions">
                                <h4>Suggested Topics:</h4>
                                <div class="suggestion-buttons">
                                    ${aiResponse.suggestions.map(suggestion => 
                                        `<button class="suggestion-btn" onclick="searchSuggestion('${suggestion}')">${suggestion}</button>`
                                    ).join('')}
                                </div>
                            </div>
                            <div class="suggestions">
                                <h4>Related Topics:</h4>
                                <div class="suggestion-buttons">
                                    ${aiResponse.relatedTopics.map(topic => 
                                        `<button class="suggestion-btn" onclick="searchSuggestion('${topic}')">${topic}</button>`
                                    ).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                return;
            }
            
            resultsCount.innerHTML = `Found ${results.length} results for "${query}"`;
            
            // Show AI summary
            const aiResponse = islamicAI.generateResponse(query, results);
            let resultsHTML = `
                <div class="ai-summary">
                    <h3>AI Assistant Summary</h3>
                    <p>${aiResponse.summary}</p>
                    <div class="suggestions">
                        <h4>Suggested Topics:</h4>
                        <div class="suggestion-buttons">
                            ${aiResponse.suggestions.map(suggestion => 
                                `<button class="suggestion-btn" onclick="searchSuggestion('${suggestion}')">${suggestion}</button>`
                            ).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            // Display results
            results.forEach(result => {
                resultsHTML += createResultItem(result);
            });
            
            verseResults.innerHTML = resultsHTML;
        }
        
        function createResultItem(result) {
            const sourceBadge = result.source === 'Quran' ? 'Quran' : 
                               result.source === 'Hadith' ? 'Hadith' : 'Fiqh';
            
            let authenticationHTML = '';
            if (result.authentication) {
                authenticationHTML = `
                    <div class="hadith-authentication">
                        <div class="level">${result.authentication}</div>
                        ${result.narrator ? `<div class="narrator">Narrated by: ${result.narrator}</div>` : ''}
                    </div>
                `;
            }
            
            let categoryHTML = '';
            if (result.category) {
                categoryHTML = `<span class="verse-topic">${result.category}</span>`;
            }
            
            return `
                <div class="verse-item">
                    <div class="verse-header">
                        <div class="verse-reference">${result.reference}</div>
                        <div class="verse-source">${sourceBadge}</div>
                        <div class="verse-topic">${result.topic}</div>
                        ${categoryHTML}
                    </div>
                    
                    <div class="verse-text">
                        <div class="verse-arabic">${result.arabic}</div>
                        <div class="verse-translation">${result.translation}</div>
                    </div>
                    
                    <div class="verse-context">
                        <h4>Context & Explanation</h4>
                        <p>${result.context}</p>
                    </div>
                    
                    ${authenticationHTML}
                    
                                    <div class="relevance-score">Relevance Score: ${result.relevance}</div>
                ${result.matchedTerms && result.matchedTerms.length > 0 ? 
                `<div class="matched-terms">Matched Terms: ${result.matchedTerms.join(', ')}</div>` : ''}
                    
                    <div class="verse-actions">
                        <button class="action-btn" onclick="copyToClipboard('${result.translation}')">Copy</button>
                        <button class="action-btn" onclick="shareVerse('${result.reference}', '${result.translation}')">Share</button>
                        <button class="action-btn" onclick="addToFavorites('${result.reference}')">Favorite</button>
                    </div>
                </div>
            `;
        }
        
        function searchSuggestion(suggestion) {
            document.getElementById('searchInput').value = suggestion;
            performSearch();
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Copied to clipboard!', 'success');
            }).catch(() => {
                showNotification('Failed to copy', 'error');
            });
        }
        
        function shareVerse(reference, text) {
            if (navigator.share) {
                navigator.share({
                    title: `Islamic Wisdom: ${reference}`,
                    text: text
                });
            } else {
                copyToClipboard(`${reference}: ${text}`);
                showNotification('Reference copied to clipboard!', 'success');
            }
        }
        
        function addToFavorites(reference) {
            showNotification('Favorites feature coming soon!', 'info');
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
