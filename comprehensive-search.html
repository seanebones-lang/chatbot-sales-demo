<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Islamic Search - Complete Quran, Hadith & Authentic Sources</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.1) 0%, rgba(0, 77, 97, 0.1) 100%);
            border-radius: 20px;
            border: 2px solid rgba(30, 144, 255, 0.3);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #FFD700;
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .header p {
            color: #87CEEB;
            font-size: 1.2rem;
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(30, 144, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(30, 144, 255, 0.3);
            transform: translateY(-2px);
        }

        .search-section {
            background: rgba(18, 18, 18, 0.8);
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .search-input {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-input input {
            flex: 1;
            padding: 20px;
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            background: rgba(18, 18, 18, 0.8);
            color: #e0e0e0;
            font-size: 18px;
        }

        .search-input input:focus {
            outline: none;
            border-color: #1E90FF;
            box-shadow: 0 0 20px rgba(30, 144, 255, 0.3);
        }

        .search-button {
            padding: 20px 40px;
            background: #1E90FF;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            background: #004D61;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .search-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-option {
            background: rgba(30, 30, 30, 0.8);
            border: 1px solid rgba(68, 68, 68, 0.5);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-option:hover {
            border-color: #1E90FF;
            transform: translateY(-2px);
        }

        .search-option.active {
            background: #1E90FF;
            border-color: #1E90FF;
        }

        .search-option h4 {
            color: #FFD700;
            margin-bottom: 8px;
        }

        .search-option p {
            color: #B0C4DE;
            font-size: 0.9rem;
        }

        .results-section {
            background: rgba(18, 18, 18, 0.8);
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(68, 68, 68, 0.5);
        }

        .results-count {
            color: #FFD700;
            font-size: 1.3rem;
        }

        .result-item {
            background: rgba(30, 30, 30, 0.8);
            border: 1px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .result-item:hover {
            border-color: #1E90FF;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .result-title {
            color: #FFD700;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .result-source {
            background: #1E90FF;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .result-arabic {
            font-size: 1.6rem;
            color: #87CEEB;
            text-align: right;
            line-height: 2.5;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border-right: 4px solid #FFD700;
        }

        .result-translation {
            color: #e0e0e0;
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .result-context {
            color: #B0C4DE;
            font-style: italic;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(30, 30, 30, 0.5);
            border-radius: 8px;
            border-left: 4px solid #87CEEB;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #B0C4DE;
        }

        .no-results h3 {
            color: #FFD700;
            margin-bottom: 15px;
        }

        .suggestions {
            margin-top: 20px;
        }

        .suggestion-btn {
            display: inline-block;
            background: rgba(30, 144, 255, 0.2);
            color: #87CEEB;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(30, 144, 255, 0.3);
        }

        .suggestion-btn:hover {
            background: rgba(30, 144, 255, 0.3);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .search-input {
                flex-direction: column;
            }
            
            .search-options {
                grid-template-columns: 1fr;
            }
            
            .result-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="back-button" onclick="window.location.href='index.html'">← Back to Main</button>
            <h1>Comprehensive Islamic Search</h1>
            <p>Complete Quran, Hadith, Tafsir, and authentic Islamic sources at your fingertips</p>
        </div>

        <div class="search-section">
            <div class="search-input">
                <input type="text" id="searchInput" placeholder="Search anything Islamic: 'mercy', 'patience', 'prayer', 'family', 'business ethics', 'Prophet Muhammad', 'inheritance laws'..." onkeypress="handleSearch(event)">
                <button onclick="performComprehensiveSearch()" class="search-button">Search</button>
            </div>
            
            <div class="search-options">
                <div class="search-option active" onclick="setSearchType('all')">
                    <h4>All Sources</h4>
                    <p>Quran, Hadith, Tafsir, Fiqh</p>
                </div>
                <div class="search-option" onclick="setSearchType('quran')">
                    <h4>Quran Only</h4>
                    <p>Verses with translations</p>
                </div>
                <div class="search-option" onclick="setSearchType('hadith')">
                    <h4>Hadith Only</h4>
                    <p>Authentic narrations</p>
                </div>
                <div class="search-option" onclick="setSearchType('fiqh')">
                    <h4>Fiqh</h4>
                    <p>Islamic jurisprudence</p>
                </div>
            </div>
        </div>

        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <div class="results-count" id="resultsCount">Search Results</div>
            </div>
            
            <div id="searchResults"></div>
        </div>
    </div>

    <script>
        // Comprehensive Islamic Knowledge Database
        const comprehensiveDatabase = {
            quran: [
                {
                    id: "quran_1_1_7",
                    type: "quran",
                    surah: "Al-Fatiha",
                    surahNumber: 1,
                    ayah: "1-7",
                    arabic: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ ﴿١﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿٢﴾ الرَّحْمَٰنِ الرَّحِيمِ ﴿٣﴾ مَالِكِ يَوْمِ الدِّينِ ﴿٤﴾ إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ ﴿٥﴾ اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ ﴿٦﴾ صِرَاطَ الَّذِينَ أَنعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ ﴿٧﴾",
                    translation: "In the name of Allah, the Entirely Merciful, the Especially Merciful. [All] praise is [due] to Allah, Lord of the worlds. The Entirely Merciful, the Especially Merciful. Sovereign of the Day of Recompense. It is You we worship and You we ask for help. Guide us to the straight path - The path of those upon whom You have bestowed favor, not of those who have evoked [Your] anger or of those who are astray.",
                    context: "Revealed in Makkah, this surah establishes the foundation of Islamic faith and practice.",
                    topics: ["mercy", "guidance", "worship", "prayer", "faith", "allah", "divine"],
                    keywords: ["mercy", "guidance", "worship", "allah", "faith", "prayer", "divine", "lord", "worlds"],
                    difficulty: "beginner",
                    authenticity: "quran",
                    timePeriod: "makkah",
                    language: "arabic",
                    crossReferences: ["hadith_bukhari_1", "hadith_muslim_395"],
                    pdfAvailable: true,
                    scholar: "Allah (Revelation)"
                },
                {
                    id: "quran_2_255",
                    type: "quran",
                    surah: "Al-Baqarah",
                    surahNumber: 2,
                    ayah: "255",
                    arabic: "اللَّهُ لَا إِلَٰهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ ۚ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ ۚ لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ ۗ مَن ذَا الَّذِي يَشْفَعُ عِندَهُ إِلَّا بِإِذْنِهِ ۚ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ ۖ وَلَا يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلَّا بِمَا شَاءَ ۚ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ ۖ وَلَا يَئُودُهُ حِفْظُهُمَا ۚ وَهُوَ الْعَلِيُّ الْعَظِيمُ",
                    translation: "Allah - there is no deity except Him, the Ever-Living, the Self-Sustaining. Neither drowsiness overtakes Him nor sleep. To Him belongs whatever is in the heavens and whatever is on the earth. Who is it that can intercede with Him except by His permission? He knows what is [presently] before them and what will be after them, and they encompass not a thing of His knowledge except for what He wills. His Kursi extends over the heavens and earth, and their preservation tires Him not. And He is the Most High, the Most Great.",
                    context: "Revealed in Madinah, this verse is known as Ayat al-Kursi and is considered the greatest verse in the Quran.",
                    topics: ["allah", "divine", "sovereignty", "knowledge", "power", "eternal"],
                    keywords: ["allah", "deity", "living", "eternal", "sustaining", "knowledge", "power", "sovereignty"],
                    difficulty: "intermediate",
                    authenticity: "quran",
                    timePeriod: "madinah",
                    language: "arabic",
                    crossReferences: ["hadith_bukhari_2311", "hadith_muslim_810"],
                    pdfAvailable: true,
                    scholar: "Allah (Revelation)"
                }
            ],
            
            hadith: [
                {
                    id: "hadith_bukhari_1",
                    type: "hadith",
                    collection: "Sahih Bukhari",
                    book: "Book of Revelation",
                    hadithNumber: 1,
                    arabic: "كَيْفَ يَكُونُ الْوَحْيُ",
                    translation: "How does the revelation come?",
                    narrator: "Abu Huraira",
                    chain: "Narrated Abu Huraira: The Prophet (ﷺ) said...",
                    fullText: "The Prophet (ﷺ) said: 'Actions are judged by intentions, and every person will be rewarded according to what they intended.'",
                    explanation: "This hadith establishes the fundamental principle that actions are judged by their intentions. It teaches us that sincerity in our actions is crucial for their acceptance by Allah.",
                    authenticity: "sahih",
                    scholar: "Imam Bukhari",
                    topics: ["intentions", "actions", "sincerity", "rewards"],
                    keywords: ["intentions", "actions", "sincerity", "rewards", "prophet", "hadith"],
                    difficulty: "beginner",
                    timePeriod: "early",
                    language: "arabic",
                    crossReferences: ["quran_1_1_7", "hadith_muslim_1907"],
                    pdfAvailable: true
                }
            ]
        };

        let currentSearchType = 'all';

        function setSearchType(type) {
            currentSearchType = type;
            document.querySelectorAll('.search-option').forEach(option => option.classList.remove('active'));
            event.target.closest('.search-option').classList.add('active');
        }

        function handleSearch(event) {
            if (event.key === "Enter") {
                performComprehensiveSearch();
            }
        }

        function performComprehensiveSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                alert('Please enter a search query');
                return;
            }

            const results = searchDatabase(query);
            displayResults(query, results);
        }

        function searchDatabase(query) {
            const queryLower = query.toLowerCase();
            const results = [];

            // Search through all categories based on search type
            const searchCategories = currentSearchType === 'all' ? 
                ['quran', 'hadith'] : [currentSearchType];

            searchCategories.forEach(category => {
                comprehensiveDatabase[category].forEach(item => {
                    // Check if item matches search query
                    const matchesQuery = 
                        item.arabic?.toLowerCase().includes(queryLower) ||
                        item.translation?.toLowerCase().includes(queryLower) ||
                        item.fullText?.toLowerCase().includes(queryLower) ||
                        item.explanation?.toLowerCase().includes(queryLower) ||
                        item.topics?.some(topic => topic.toLowerCase().includes(queryLower)) ||
                        item.keywords?.some(keyword => keyword.toLowerCase().includes(queryLower)) ||
                        item.surah?.toLowerCase().includes(queryLower) ||
                        item.collection?.toLowerCase().includes(queryLower);

                    if (matchesQuery) {
                        results.push({
                            ...item,
                            relevanceScore: calculateRelevanceScore(item, queryLower)
                        });
                    }
                });
            });

            // Sort by relevance score
            return results.sort((a, b) => b.relevanceScore - a.relevanceScore);
        }

        function calculateRelevanceScore(item, query) {
            let score = 0;
            
            // Exact matches get higher scores
            if (item.arabic?.toLowerCase().includes(query)) score += 10;
            if (item.translation?.toLowerCase().includes(query)) score += 8;
            if (item.fullText?.toLowerCase().includes(query)) score += 8;
            if (item.explanation?.toLowerCase().includes(query)) score += 6;
            
            // Topic and keyword matches
            if (item.topics?.some(topic => topic.toLowerCase().includes(query))) score += 5;
            if (item.keywords?.some(keyword => keyword.toLowerCase().includes(query))) score += 3;
            
            // Source relevance
            if (item.surah?.toLowerCase().includes(query)) score += 4;
            if (item.collection?.toLowerCase().includes(query)) score += 4;
            
            return score;
        }

        function displayResults(query, results) {
            const resultsSection = document.getElementById('resultsSection');
            const resultsCount = document.getElementById('resultsCount');
            const searchResults = document.getElementById('searchResults');

            resultsSection.style.display = 'block';
            resultsCount.innerHTML = `Found ${results.length} results for "${query}"`;

            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="no-results">
                        <h3>No Results Found</h3>
                        <p>No results found for "${query}". Try different keywords or check spelling.</p>
                        <div class="suggestions">
                            <h4>Suggested Searches:</h4>
                            <div class="suggestion-btn" onclick="searchSuggestion('mercy')">mercy</div>
                            <div class="suggestion-btn" onclick="searchSuggestion('prayer')">prayer</div>
                            <div class="suggestion-btn" onclick="searchSuggestion('family')">family</div>
                            <div class="suggestion-btn" onclick="searchSuggestion('patience')">patience</div>
                            <div class="suggestion-btn" onclick="searchSuggestion('forgiveness')">forgiveness</div>
                        </div>
                    </div>
                `;
                return;
            }

            searchResults.innerHTML = results.map(item => `
                <div class="result-item">
                    <div class="result-header">
                        <div>
                            <div class="result-title">${getResultTitle(item)}</div>
                            <div style="color: #87CEEB; font-size: 0.9rem;">${getResultSubtitle(item)}</div>
                        </div>
                        <div class="result-source">${getResultSource(item)}</div>
                    </div>
                    
                    ${item.arabic ? `<div class="result-arabic">${item.arabic}</div>` : ''}
                    
                    <div class="result-translation">${getResultText(item)}</div>
                    
                    ${item.explanation ? `<div class="result-context">${item.explanation}</div>` : ''}
                </div>
            `).join('');
        }

        function getResultTitle(item) {
            if (item.type === 'quran') return `${item.surah} ${item.ayah}`;
            if (item.type === 'hadith') return `${item.collection} ${item.hadithNumber}`;
            return item.title || 'Islamic Reference';
        }

        function getResultSubtitle(item) {
            if (item.type === 'quran') return `Surah ${item.surahNumber}, Verse ${item.ayah}`;
            if (item.type === 'hadith') return `Book: ${item.book}`;
            return '';
        }

        function getResultText(item) {
            if (item.translation) return item.translation;
            if (item.fullText) return item.fullText;
            if (item.explanation) return item.explanation;
            return '';
        }

        function getResultSource(item) {
            if (item.type === 'quran') return 'Quran';
            if (item.type === 'hadith') return item.collection;
            return 'Islamic Source';
        }

        function searchSuggestion(suggestion) {
            document.getElementById('searchInput').value = suggestion;
            performComprehensiveSearch();
        }

        // Initialize page
        window.addEventListener('load', () => {
            console.log('Comprehensive Islamic Search loaded successfully');
        });
    </script>
</body>
</html>
