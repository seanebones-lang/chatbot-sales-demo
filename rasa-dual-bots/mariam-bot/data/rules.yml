version: "3.1"

rules:
  # Immediate responses for common queries
  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say hello anytime the user says hello
    steps:
      - intent: greet
      - action: utter_greet

  # Bot self-awareness rules
  - rule: Bot capabilities flow
    steps:
      - intent: bot_capabilities
      - action: utter_bot_capabilities

  - rule: About me flow
    steps:
      - intent: about_me
      - action: utter_about_me

  - rule: Chatbot sales flow
    steps:
      - intent: chatbot_sales
      - action: utter_chatbot_sales

  # - rule: Respond to affirmations  # REMOVED - not in domain
  #   steps:
  #     - intent: affirm
  #     - action: utter_affirm

  # - rule: Respond to denials  # REMOVED - not in domain
  #   steps:
  #     - intent: deny
  #     - action: utter_deny

  # Business consultation rules
  - rule: Business consultation flow
    steps:
      - intent: business_consultation
      - action: utter_business_consultation

  # - rule: Pricing inquiry flow  # REMOVED - conflicting with story
  #   steps:
  #     - intent: pricing_inquiry
  #     - action: action_pricing_inquiry

  - rule: Schedule demo flow
    steps:
      - intent: schedule_demo
      - action: action_schedule_demo

  # - rule: Start free trial flow  # REMOVED - not in domain
  #   steps:
  #     - intent: start_free_trial
  #     - action: action_start_free_trial

  # Industry-specific rules
  - rule: Healthcare business specialist
    steps:
      - intent: healthcare_business
      - action: action_healthcare_specialist

  - rule: Retail business specialist
    steps:
      - intent: retail_business
      - action: action_retail_specialist

  - rule: Automotive business specialist
    steps:
      - intent: automotive_business
      - action: action_automotive_specialist

  - rule: Restaurant business specialist
    steps:
      - intent: restaurant_business
      - action: action_restaurant_specialist

  # Technical consultation rules
  - rule: Technical details flow
    steps:
      - intent: technical_details
      - action: action_technical_details

  # - rule: Integration details flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_integration
  #     - action: action_integration_details

  # - rule: Security details flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_security
  #     - action: action_security_details

  # - rule: Compliance details flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_compliance
  #     - action: action_compliance_details

  # Veteran-specific rules
  - rule: Veteran discounts flow
    steps:
      - intent: veteran_discounts
      - action: action_veteran_discounts

  # - rule: Veteran consultation flow  # REMOVED - not in domain
  #   steps:
  #     - intent: schedule_veteran_consultation
  #     - action: action_schedule_veteran_consultation

  # Business analysis rules
  - rule: Business analysis flow
    steps:
      - intent: business_analysis
      - action: action_business_analysis

  - rule: Customer retention flow
    steps:
      - intent: customer_retention
      - action: action_customer_retention

  # - rule: Implementation timeline flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_implementation_timeline
  #     - action: action_implementation_timeline

  # Contact and support rules
  # - rule: Contact information flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_contact_info
  #     - action: action_contact_info

  # - rule: Support hours flow  # REMOVED - not in domain
  #   steps:
  #     - intent: ask_support_hours
  #     - action: action_support_hours

  # Fallback rules
  - rule: Fallback for out of scope
    steps:
      - intent: out_of_scope
      - action: utter_out_of_scope

  # - rule: Fallback for nlu fallback  # REMOVED - not in domain
  #   steps:
  #     - intent: nlu_fallback
  #     - action: utter_ask_clarification

  # Sales Material Generation Rules
  # - rule: Generate pricing PDF flow  # REMOVED - conflicting with story
  #   steps:
  #     - intent: generate_pricing_pdf
  #     - action: action_generate_sales_materials

  # - rule: Generate proposal PDF flow  # REMOVED - conflicting with story
  #   steps:
  #     - intent: generate_proposal_pdf
  #     - action: action_generate_sales_materials

  - rule: Send follow up materials flow
    steps:
      - intent: send_follow_up_materials
      - action: action_send_follow_up_materials

  # Session handling rules
  - rule: Session start
    steps:
      - action: action_session_start
