<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Islamic Knowledge - Quran & Hadith Index System</title>
    <meta name="description" content="Complete Islamic knowledge system with Quran verses, authentic Hadiths, comprehensive search, and interactive learning. Find any Islamic topic instantly.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.1) 0%, rgba(0, 77, 97, 0.1) 100%);
            border-radius: 20px;
            border: 1px solid rgba(30, 144, 255, 0.3);
        }

        .header h1 {
            font-size: 3.5rem;
            color: #1E90FF;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(30, 144, 255, 0.5);
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: #87CEEB;
            margin-bottom: 20px;
        }

        .header .description {
            font-size: 1.1rem;
            color: #b0c4de;
            max-width: 800px;
            margin: 0 auto;
        }

        .source-toggle {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .source-btn {
            padding: 15px 30px;
            background: rgba(68, 68, 68, 0.5);
            border: 2px solid rgba(68, 68, 68, 0.8);
            border-radius: 15px;
            color: #b0c4de;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .source-btn.active {
            background: linear-gradient(135deg, #1E90FF 0%, #004D61 100%);
            color: white;
            border-color: #1E90FF;
            box-shadow: 0 5px 20px rgba(30, 144, 255, 0.3);
        }

        .source-btn:hover {
            transform: translateY(-2px);
        }

        .auto-verse {
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.1) 0%, rgba(0, 77, 97, 0.1) 100%);
            border: 2px solid rgba(30, 144, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .auto-verse h3 {
            color: #1E90FF;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .auto-verse .source-badge {
            display: inline-block;
            background: rgba(30, 144, 255, 0.2);
            color: #87CEEB;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .auto-verse .verse-display {
            background: rgba(18, 18, 18, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #1E90FF;
        }

        .auto-verse .verse-display .reference {
            color: #87CEEB;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .auto-verse .verse-display .text {
            color: #F0F0F0;
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .auto-verse .timer {
            color: #b0c4de;
            font-size: 0.9rem;
            margin-top: 15px;
        }

        .search-section {
            background: rgba(24, 24, 24, 0.9);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        .search-input {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 18px 20px;
            border: 2px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            background: rgba(24, 24, 24, 0.8);
            color: #E0E0E0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #1E90FF;
            box-shadow: 0 0 20px rgba(30, 144, 255, 0.3);
            background: rgba(24, 24, 24, 0.95);
        }

        button {
            padding: 18px 30px;
            background: linear-gradient(135deg, #1E90FF 0%, #004D61 100%);
            color: #FFFFFF;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 144, 255, 0.4);
        }

        .search-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-option {
            background: rgba(30, 144, 255, 0.1);
            border: 1px solid rgba(30, 144, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-option:hover {
            background: rgba(30, 144, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(30, 144, 255, 0.2);
        }

        .search-option h3 {
            color: #1E90FF;
            margin-bottom: 8px;
        }

        .search-option p {
            color: #b0c4de;
            font-size: 0.9rem;
        }

        .results-section {
            background: rgba(24, 24, 24, 0.9);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(68, 68, 68, 0.5);
        }

        .results-count {
            color: #87CEEB;
            font-size: 1.1rem;
        }

        .view-toggle {
            display: flex;
            gap: 10px;
        }

        .view-btn {
            padding: 8px 16px;
            background: rgba(68, 68, 68, 0.5);
            border: 1px solid rgba(68, 68, 68, 0.8);
            border-radius: 8px;
            color: #b0c4de;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-btn.active {
            background: #1E90FF;
            color: white;
            border-color: #1E90FF;
        }

        .verse-results {
            max-height: 600px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #1E90FF #2a2a2a;
        }

        .verse-results::-webkit-scrollbar {
            width: 8px;
        }

        .verse-results::-webkit-scrollbar-track {
            background: #2a2a2a;
            border-radius: 4px;
        }

        .verse-results::-webkit-scrollbar-thumb {
            background: #1E90FF;
            border-radius: 4px;
        }

        .verse-item {
            background: rgba(18, 18, 18, 0.8);
            border: 1px solid rgba(68, 68, 68, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease-in;
        }

        .verse-item:hover {
            border-color: #1E90FF;
            box-shadow: 0 5px 20px rgba(30, 144, 255, 0.2);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .verse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(68, 68, 68, 0.3);
        }

        .verse-reference {
            color: #1E90FF;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .verse-topic {
            background: rgba(30, 144, 255, 0.2);
            color: #87CEEB;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .verse-source {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .verse-text {
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .verse-arabic {
            font-family: 'Amiri', serif;
            font-size: 1.3rem;
            color: #F0F0F0;
            text-align: right;
            direction: rtl;
            margin-bottom: 10px;
            line-height: 2;
        }

        .verse-translation {
            color: #E0E0E0;
            font-size: 1rem;
            line-height: 1.6;
        }

        .verse-context {
            background: rgba(68, 68, 68, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #1E90FF;
        }

        .verse-context h4 {
            color: #87CEEB;
            margin-bottom: 8px;
        }

        .verse-context p {
            color: #b0c4de;
            font-size: 0.95rem;
        }

        .hadith-authentication {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .hadith-authentication .level {
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .hadith-authentication .narrator {
            color: #FFD700;
            font-size: 0.9rem;
        }

        .surah-list {
            background: rgba(24, 24, 24, 0.9);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(68, 68, 68, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .surah-list h2 {
            color: #1E90FF;
            margin-bottom: 25px;
            text-align: center;
            font-size: 2rem;
        }

        .surah-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .surah-item {
            background: rgba(30, 144, 255, 0.1);
            border: 1px solid rgba(30, 144, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .surah-item:hover {
            background: rgba(30, 144, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(30, 144, 255, 0.2);
        }

        .surah-item .number {
            color: #1E90FF;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .surah-item .name {
            color: #F0F0F0;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .surah-item .arabic {
            color: #87CEEB;
            font-size: 0.9rem;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: #87CEEB;
            border-top: 1px solid rgba(68, 68, 68, 0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .search-input {
                flex-direction: column;
            }
            
            .search-options {
                grid-template-columns: 1fr;
            }
            
            .surah-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .source-toggle {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïå COMPLETE ISLAMIC KNOWLEDGE</h1>
            <div class="subtitle">Quran & Hadith Index System</div>
            <div class="description">
                Access the complete Islamic knowledge with Quran verses, authentic Hadiths, comprehensive topic search, and interactive learning. Find any Islamic topic instantly with both divine revelation and prophetic wisdom.
            </div>
        </div>

        <!-- Source Toggle -->
        <div class="source-toggle">
            <div class="source-btn active" onclick="setSource('both')" id="btnBoth">üìö Both Sources</div>
            <div class="source-btn" onclick="setSource('quran')" id="btnQuran">üìñ Quran Only</div>
            <div class="source-btn" onclick="setSource('hadith')" id="btnHadith">üíé Hadith Only</div>
        </div>

        <!-- Auto-Interactive Display -->
        <div class="auto-verse" id="autoVerse">
            <h3>üåü Interactive Islamic Wisdom</h3>
            <div class="source-badge" id="sourceBadge">Quran</div>
            <div class="verse-display" id="verseDisplay">
                <div class="reference" id="verseReference">Loading...</div>
                <div class="text" id="verseText">Preparing inspirational wisdom...</div>
            </div>
            <div class="timer" id="timer">Next wisdom in: <span id="countdown">60</span> seconds</div>
        </div>

        <div class="search-section">
            <div class="search-input">
                <input type="text" id="searchInput" placeholder="Search for any Islamic topic, verse, or Hadith (e.g., mercy, kindness, prayer, patience)..." onkeypress="handleSearch(event)">
                <button onclick="performSearch()">SEARCH ISLAMIC KNOWLEDGE</button>
            </div>

            <div class="search-options">
                <div class="search-option" onclick="searchByTopic('mercy')">
                    <h3>Mercy</h3>
                    <p>Divine compassion</p>
                </div>
                <div class="search-option" onclick="searchByTopic('kindness')">
                    <h3>Kindness</h3>
                    <p>Prophetic example</p>
                </div>
                <div class="search-option" onclick="searchByTopic('prayer')">
                    <h3>Prayer</h3>
                    <p>Worship & devotion</p>
                </div>
                <div class="search-option" onclick="searchByTopic('patience')">
                    <h3>Patience</h3>
                    <p>Endurance & strength</p>
                </div>
                <div class="search-option" onclick="searchByTopic('charity')">
                    <h3>Charity</h3>
                    <p>Giving & helping</p>
                </div>
                <div class="search-option" onclick="searchByTopic('family')">
                    <h3>Family</h3>
                    <p>Relationships & love</p>
                </div>
            </div>
        </div>

        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <div class="results-count" id="resultsCount">0 results found</div>
                <div class="view-toggle">
                    <div class="view-btn active" onclick="setView('verses')">All Results</div>
                    <div class="view-btn" onclick="setView('quran')">Quran Only</div>
                    <div class="view-btn" onclick="setView('hadith')">Hadith Only</div>
                </div>
            </div>
            
            <div class="verse-results" id="verseResults"></div>
        </div>

        <div class="surah-list">
            <h2>üìñ Complete Islamic Sources</h2>
            <div class="surah-grid" id="surahGrid"></div>
        </div>

        <div class="footer">
            <p>Complete Islamic Knowledge System - Built with ‚ù§Ô∏è for Islamic education</p>
            <p>Accessing divine revelation and prophetic wisdom since 2025</p>
        </div>
    </div>

    <script>
        // Islamic Knowledge Database
        const islamicDatabase = {
            mercy: [
                {
                    reference: "Al-Fatiha 1:1-2",
                    arabic: "ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê",
                    translation: "In the name of Allah, the Most Gracious, the Most Merciful",
                    context: "The opening of the Quran emphasizes Allah's mercy and compassion as fundamental attributes.",
                    topic: "Mercy",
                    source: "Quran"
                },
                {
                    reference: "Sahih Bukhari 1:1",
                    arabic: "ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸè ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸè",
                    translation: "The Most Gracious, the Most Merciful",
                    context: "Prophet Muhammad (Ô∑∫) emphasized Allah's mercy in all aspects of life.",
                    topic: "Mercy",
                    source: "Hadith",
                    authentication: "Sahih",
                    narrator: "Narrated by Abu Hurairah"
                }
            ],
            kindness: [
                {
                    reference: "Sahih Muslim 4:2024",
                    arabic: "ŸÖŸéŸÜŸí ŸÑŸéÿß ŸäŸéÿ±Ÿíÿ≠ŸéŸÖŸè ŸÑŸéÿß ŸäŸèÿ±Ÿíÿ≠ŸéŸÖŸè",
                    translation: "Whoever does not show mercy will not be shown mercy",
                    context: "Prophet Muhammad (Ô∑∫) taught that showing kindness and mercy to others is essential for receiving divine mercy.",
                    topic: "Kindness",
                    source: "Hadith",
                    authentication: "Sahih",
                    narrator: "Narrated by Jarir ibn Abdullah"
                },
                {
                    reference: "Al-Baqarah 2:195",
                    arabic: "ŸàŸéÿ£Ÿéÿ≠Ÿíÿ≥ŸêŸÜŸèŸàÿß €õ ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸäŸèÿ≠Ÿêÿ®ŸèŸë ÿßŸÑŸíŸÖŸèÿ≠Ÿíÿ≥ŸêŸÜŸêŸäŸÜŸé",
                    translation: "And do good; indeed, Allah loves the doers of good",
                    context: "Allah commands believers to be kind and do good deeds, as He loves those who excel in goodness.",
                    topic: "Kindness",
                    source: "Quran"
                }
            ],
            prayer: [
                {
                    reference: "Al-Baqarah 2:43",
                    arabic: "ŸàŸéÿ£ŸéŸÇŸêŸäŸÖŸèŸàÿß ÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿé ŸàŸéÿ¢ÿ™ŸèŸàÿß ÿßŸÑÿ≤ŸéŸëŸÉŸéÿßÿ©Ÿé",
                    translation: "And establish prayer and give zakah",
                    context: "Prayer as a fundamental pillar of Islamic practice and spiritual discipline.",
                    topic: "Prayer",
                    source: "Quran"
                },
                {
                    reference: "Sahih Bukhari 2:8",
                    arabic: "ÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿè ÿπŸêŸÖŸéÿßÿØŸè ÿßŸÑÿØŸêŸëŸäŸÜŸê",
                    translation: "Prayer is the pillar of religion",
                    context: "Prophet Muhammad (Ô∑∫) emphasized that prayer is the foundation of Islamic faith and practice.",
                    topic: "Prayer",
                    source: "Hadith",
                    authentication: "Sahih",
                    narrator: "Narrated by Abu Hurairah"
                }
            ],
            patience: [
                {
                    reference: "Al-Baqarah 2:153",
                    arabic: "ŸäŸéÿß ÿ£ŸéŸäŸèŸëŸáŸéÿß ÿßŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ÿ¢ŸÖŸéŸÜŸèŸàÿß ÿßÿ≥Ÿíÿ™ŸéÿπŸêŸäŸÜŸèŸàÿß ÿ®ŸêÿßŸÑÿµŸéŸëÿ®Ÿíÿ±Ÿê ŸàŸéÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿê",
                    translation: "O you who have believed, seek help through patience and prayer",
                    context: "Allah teaches believers to seek strength through patience and prayer during difficult times.",
                    topic: "Patience",
                    source: "Quran"
                },
                {
                    reference: "Sahih Muslim 4:2025",
                    arabic: "ŸÖŸéÿß ÿ£ŸèÿπŸíÿ∑ŸêŸäŸé ÿ£Ÿéÿ≠ŸéÿØŸå ÿπŸéÿ∑Ÿéÿßÿ°Ÿã ÿÆŸéŸäŸíÿ±Ÿãÿß ŸàŸéÿ£ŸéŸàŸíÿ≥ŸéÿπŸé ŸÖŸêŸÜŸé ÿßŸÑÿµŸéŸëÿ®Ÿíÿ±Ÿê",
                    translation: "No one has been given a gift better and more comprehensive than patience",
                    context: "Prophet Muhammad (Ô∑∫) described patience as the greatest gift Allah can give to a person.",
                    topic: "Patience",
                    source: "Hadith",
                    authentication: "Sahih",
                    narrator: "Narrated by Abu Sa'id Al-Khudri"
                }
            ]
        };

        // Auto-interactive wisdom
        const autoWisdom = [
            {
                reference: "Al-Baqarah 2:186",
                text: "And when My servants ask you concerning Me, indeed I am near. I respond to the invocation of the supplicant when he calls upon Me.",
                source: "Quran"
            },
            {
                reference: "Sahih Bukhari 1:1",
                text: "Actions are judged by intentions, and every person will be rewarded according to what they intended.",
                source: "Hadith"
            },
            {
                reference: "Al-Fatiha 1:5",
                text: "It is You we worship and You we ask for help.",
                source: "Quran"
            },
            {
                reference: "Sahih Muslim 4:2024",
                text: "Whoever does not show mercy will not be shown mercy. The merciful are shown mercy by the Most Merciful.",
                source: "Hadith"
            },
            {
                reference: "Al-Isra 17:82",
                text: "And We send down of the Quran that which is healing and mercy for the believers.",
                source: "Quran"
            }
        ];

        let currentSource = 'both';
        let currentView = 'verses';
        let autoWisdomIndex = 0;
        let countdown = 60;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadSourcesList();
            startAutoWisdomTimer();
            updateAutoWisdom();
        });

        function setSource(source) {
            currentSource = source;
            
            // Update button states
            document.querySelectorAll('.source-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update search placeholder
            const searchInput = document.getElementById('searchInput');
            if (source === 'quran') {
                searchInput.placeholder = "Search Quran verses only (e.g., mercy, prayer, patience)...";
            } else if (source === 'hadith') {
                searchInput.placeholder = "Search Hadiths only (e.g., kindness, prayer, patience)...";
            } else {
                searchInput.placeholder = "Search for any Islamic topic, verse, or Hadith (e.g., mercy, kindness, prayer, patience)...";
            }
            
            // Update auto-wisdom source
            updateAutoWisdom();
        }

        function startAutoWisdomTimer() {
            setInterval(() => {
                countdown--;
                document.getElementById('countdown').textContent = countdown;
                
                if (countdown <= 0) {
                    updateAutoWisdom();
                    countdown = 60;
                }
            }, 1000);
        }

        function updateAutoWisdom() {
            const wisdom = autoWisdom[autoWisdomIndex];
            document.getElementById('verseReference').textContent = wisdom.reference;
            document.getElementById('verseText').textContent = wisdom.text;
            document.getElementById('sourceBadge').textContent = wisdom.source;
            
            autoWisdomIndex = (autoWisdomIndex + 1) % autoWisdom.length;
        }

        function loadSourcesList() {
            const sources = [
                { number: 1, name: "Quran", arabic: "ÿßŸÑŸÇÿ±ÿ¢ŸÜ" },
                { number: 2, name: "Hadith", arabic: "ÿßŸÑÿ≠ÿØŸäÿ´" },
                { number: 3, name: "Bukhari", arabic: "ÿßŸÑÿ®ÿÆÿßÿ±Ÿä" },
                { number: 4, name: "Muslim", arabic: "ŸÖÿ≥ŸÑŸÖ" },
                { number: 5, name: "Abu Dawud", arabic: "ÿ£ÿ®Ÿà ÿØÿßŸàÿØ" },
                { number: 6, name: "Tirmidhi", arabic: "ÿßŸÑÿ™ÿ±ŸÖÿ∞Ÿä" },
                { number: 7, name: "Nasai", arabic: "ÿßŸÑŸÜÿ≥ÿßÿ¶Ÿä" },
                { number: 8, name: "Ibn Majah", arabic: "ÿßÿ®ŸÜ ŸÖÿßÿ¨Ÿá" },
                { number: 9, name: "Malik", arabic: "ŸÖÿßŸÑŸÉ" },
                { number: 10, name: "Ahmad", arabic: "ÿ£ÿ≠ŸÖÿØ" }
            ];

            const grid = document.getElementById('surahGrid');
            sources.forEach(source => {
                const item = document.createElement('div');
                item.className = 'surah-item';
                item.innerHTML = `
                    <div class="number">${source.number}</div>
                    <div class="name">${source.name}</div>
                    <div class="arabic">${source.arabic}</div>
                `;
                item.onclick = () => searchSource(source.name);
                grid.appendChild(item);
            });
        }

        function handleSearch(event) {
            if (event.key === "Enter") {
                performSearch();
            }
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) return;

            const results = searchDatabase(query);
            displayResults(results, query);
        }

        function searchByTopic(topic) {
            document.getElementById('searchInput').value = topic;
            performSearch();
        }

        function searchSource(sourceName) {
            document.getElementById('searchInput').value = sourceName;
            performSearch();
        }

        function searchDatabase(query) {
            const results = [];
            const searchTerm = query.toLowerCase();

            // Filter by current source preference
            Object.keys(islamicDatabase).forEach(topic => {
                islamicDatabase[topic].forEach(item => {
                    if (currentSource === 'both' || item.source.toLowerCase() === currentSource) {
                        if (item.reference.toLowerCase().includes(searchTerm) ||
                            item.translation.toLowerCase().includes(searchTerm) ||
                            item.context.toLowerCase().includes(searchTerm) ||
                            topic.includes(searchTerm)) {
                            results.push(item);
                        }
                    }
                });
            });

            return results;
        }

        function displayResults(results, query) {
            const resultsSection = document.getElementById('resultsSection');
            const resultsCount = document.getElementById('resultsCount');
            const verseResults = document.getElementById('verseResults');

            resultsCount.textContent = `${results.length} results found for "${query}"`;
            resultsSection.style.display = 'block';

            verseResults.innerHTML = '';
            results.forEach(item => {
                const resultItem = createResultItem(item);
                verseResults.appendChild(resultItem);
            });
        }

        function createResultItem(item) {
            const resultDiv = document.createElement('div');
            resultDiv.className = 'verse-item';
            
            let sourceBadge = '';
            let authenticationInfo = '';
            
            if (item.source === 'Hadith') {
                sourceBadge = `<div class="verse-source">${item.source}</div>`;
                authenticationInfo = `
                    <div class="hadith-authentication">
                        <div class="level">Authentication: ${item.authentication}</div>
                        <div class="narrator">${item.narrator}</div>
                    </div>
                `;
            } else {
                sourceBadge = `<div class="verse-topic">${item.source}</div>`;
            }
            
            resultDiv.innerHTML = `
                <div class="verse-header">
                    <div class="verse-reference">${item.reference}</div>
                    ${sourceBadge}
                </div>
                <div class="verse-text">
                    ${item.arabic ? `<div class="verse-arabic">${item.arabic}</div>` : ''}
                    <div class="verse-translation">${item.translation}</div>
                </div>
                <div class="verse-context">
                    <h4>Context & Meaning</h4>
                    <p>${item.context}</p>
                </div>
                ${authenticationInfo}
            `;
            
            return resultDiv;
        }

        function setView(view) {
            currentView = view;
            
            // Update button states
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter results based on view
            const currentQuery = document.getElementById('searchInput').value.trim();
            if (currentQuery) {
                const results = searchDatabase(currentQuery);
                displayResults(results, currentQuery);
            }
        }
    </script>
</body>
</html>
